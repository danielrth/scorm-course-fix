{"version":3,"sources":["ss.2.9.js"],"names":["this","CanAutoplay","global","factory","module","exports","document","w","Error","window","win","noGlobal","_ajax","url","options","async","data","ie9","requestAnimationFrame","methods","done","fail","type","XHR","XMLHttpRequest","cache","Date","getTime","parts","i","hasOwnProperty","push","encodeURIComponent","join","XDomainRequest","onload","call","onerror","onprogress","ontimeout","open","setRequestHeader","onreadystatechange","readyState","status","setTimeout","send","_checkAutoPlay","audio","Audio","addEventListener","volume","autoplay","src","e","_createFrame","frameName","_isKickback","indexOf","_debug","set","location","hash","_exit","_cmi_learner_id","_cmiCommunication","$API_Aicc","$API_Local","_aicc","Exit","$API_Scorm12","_scorm","Terminate","$API_TinCan","_getFrameNumber","fileName","_sco_frames","length","getAttribute","_getMatchedFrame","_initFinish","callback","_log","$ERR_NotInitialized","doc","onkeydown","keyPressed","which","_isNextEnabled","_next","_isPreviousEnabled","_previous","_playToggle","_replay","preventDefault","_cmi_suspend_data","scoId","_cmi_location","folder","split","SS","GetLanguages","id","_parseFrames","_cmi_entry","message","showUser","alert","console","log","_millisecondsToCMIDuration","timeDifference","version","dtm","setTime","hms","h","Math","floor","m","getMinutes","s","getSeconds","cs","round","getMilliseconds","substr","$API_Scorm2004","aryPieces","strHour","strMin","strSec","_muteToggle","_isMuted","_interface","on","unMute","slideUnMute","mute","slideMute","$API_Demo","_sco_frameLimit","_current_frame","$ERR_DemoExceeded","nextFileName","found","frames","getElementsByTagName","currentFileName","_current_kickback","_update","undefined","selectedTopics","topics","_sco_XML","t","topic","title","testFrames","exclude","$API_Playthrough","_sco_quizTotal","f","_parseIni","string","regex","section","param","comment","value","lines","substring","forEach","line","test","pMatch","match","toLowerCase","sMatch","_isPaused","play","slidePlay","pause","slidePause","previousFileName","kickback","html","presentor","_toggleFrames","presentorOnTop","css","_tryParse","json","JSON","parse","scoFrame","quizReturn","file","frameNumber","isEnd","isQuiz","narration","bullets","timeNow","n","$NOW","v","_cmi_session_time","toString","_cmi_exit","_sco_scaledPassingScore","_cmi_completion_status","$CMI_Passed","$CMI_Completed","_hackScore","_cmi_score_raw","Put","SetValue","$CORE_Location","_cmiError","GetLastError","$CODE_NoError","$CORE_SessionTime","$CORE_Exit","$CORE_Status","$CORE_ScoreRaw","$CORE_SuspendData","stringify","Commit","$ERR_CommunicationIssue","progressBar","percent","isNaN","_current_captions","XMLSerializer","serializeToString","xml","_current_bullets","empty","disableNext","previousEnable","previousDisable","nextEnable","nextDisable","SlideStart","scoFinish","InitSco","endAudio","createElement","preload","body","appendChild","querystrings","mode","limit","$API_None","Initialize","aicc_url","_relayUrl","author","querySelector","julian","getTimezoneOffset","$ERR_SubscriptionInactive","scoXMLPath","sco","xhr","responseXML","Init","GetValue","$CMI_Incomplete","$CORE_StudentId","_cmi_learner_name","$CORE_StudentName","$CORE_Entry","suspendData","lastIndexOf","slice","languagesXML","languagesJSON","lang","label","SelectLanguage","language","getElementById","Resume","GetLocalizedValues","langElements","childNodes","textContent","tagName","firstChild","nodeValue","InitInterface","animate","onAnimate","setProgressBar","onScoFinish","frameField","presentorFrame","kickbackFrame","titleField","commaHack","_hackComma","scoreHack","Mute","Next","onDisable","onEnable","disableOnNext","Play","Previous","Replay","GetStudentName","SlideEnd","end","ScoreResults","answers","answered","ratio","passed","toFixed","total","QuizCorrect","index","QuizIncorrect","firstKickback","splice","$CMI_Failed","$CODE_GeneralError","_isCompleted","_version","command","session_id","aicc_sid","responseText","scoData","core","lesson_status","statusSlice","trim","student_id","student_name","lesson_location","entry","score","core_lesson","suspend_data","query","aiccData","aicc_data","_api","_getApi","apiName","_scanParents","parent","opener","tries","result","LMSCommit","errCode","LMSGetLastError","element","LMSGetValue","communication","LMSInitialize","LMSSetValue","LMSFinish","CC","define","amd","NS"],"mappings":"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","file":"ss.2.9.min.js","sourcesContent":["this.CanAutoplay = false;\r\n// Checking if this class is being called from another module\r\n(function (global, factory) {\r\n\tif (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n\t\tmodule.exports = global.document ?\r\n\t\t\tfactory(global, true) :\r\n\t\t\tfunction (w) {\r\n\t\t\t\tif (!w.document) {\r\n\t\t\t\t\tthrow new Error(\"SS requires a window with a document\")\r\n\t\t\t\t}\r\n\t\t\t\treturn factory(w)\r\n\t\t\t}\r\n\t} else {\r\n\t\tfactory(global)\r\n\t}\r\n}(typeof window !== \"undefined\" ? window : this, function (win, noGlobal) { // Main constructor\r\n\t\"use strict\"\r\n\tvar doc = win.document\r\n\tvar querystrings = win.querystrings || {}\r\n\r\n\t// Contstants\r\n\tvar $API_Aicc = 'aicc'\r\n\tvar $API_Demo = 'demo'\r\n\tvar $API_Local = 'aicc-local'\r\n\tvar $API_None = 'none'\r\n\tvar $API_Playthrough = 'playthrough'\r\n\tvar $API_Scorm12 = '1.2'\r\n\tvar $API_Scorm2004 = '2004'\r\n\tvar $API_TinCan = 'xapi'\r\n\tvar $CMI_Completed = 'completed'\r\n\tvar $CMI_Failed = 'failed'\r\n\tvar $CMI_Incomplete = 'incomplete'\r\n\tvar $CMI_Passed = 'passed'\r\n\tvar $CODE_GeneralError = '100'\r\n\tvar $CODE_NoError = '0'\r\n\tvar $CORE_Entry = 'cmi.core.entry'\r\n\tvar $CORE_Exit = 'cmi.core.exit'\r\n\tvar $CORE_Location = 'cmi.core.lesson_location'\r\n\tvar $CORE_SessionTime = 'cmi.core.session_time'\r\n\tvar $CORE_ScoreRaw = 'cmi.core.score.raw'\r\n\tvar $CORE_Status = 'cmi.core.lesson_status'\r\n\tvar $CORE_StudentId = 'cmi.core.student_id'\r\n\tvar $CORE_StudentName = 'cmi.core.student_name'\r\n\tvar $CORE_SuspendData = 'cmi.suspend_data'\r\n\tvar $ERR_CommunicationIssue = 'An error occurred with the action you performed, if you continue to get this message please close and restart the course. \\n\\n Se ha producido un error en la accion realizada, si usted continua recibir este mensaje, por favor, cierre y reinicie el curso.'\r\n\tvar $ERR_DemoExceeded = 'Thank you for watching this course demo!'\r\n\tvar $ERR_NotInitialized = 'This course encountered an error. Your progress will NOT be recorded. Please close and restart the course. \\n\\n Este curso ha detectado un error. NO se grabara su progreso. Por favor, cierre y reincie el curso.'\r\n\tvar $ERR_SubscriptionInactive = 'Sorry this subscription is no longer active. Please contact your supervisor or SafetySkills support at support@safetyskills.com'\r\n\tvar $NOW = new Date()\r\n\r\n\t// Fields\r\n\tvar _cmi_completion_status = $CMI_Incomplete\r\n\t//var _cmi_credit = 'credit'\r\n\tvar _cmi_entry = ''\r\n\tvar _cmi_exit = 'suspend'\r\n\t//var _cmi_launch_data = ''\r\n\tvar _cmi_learner_id = '~'\r\n\tvar _cmi_learner_name = 'Example, Anne E.'\r\n\tvar _cmi_location = ''\r\n\t//var _cmi_mode = 'normal'\r\n\tvar _cmi_score_raw = ''\r\n\tvar _cmi_session_time = '00:00:00'\r\n\t//var _cmi_success_status = 'unknown'\r\n\tvar _cmi_suspend_data = {}\r\n\tvar _cmiCommunication = $API_None\r\n\tvar _cmiError = $CODE_GeneralError\r\n\tvar _current_bullets = ''\r\n\tvar _current_captions\r\n\tvar _current_frame\r\n\tvar _current_kickback\r\n\tvar _hackComma\r\n\tvar _hackScore\r\n\tvar _interface = {\r\n\t\tdisableNext: false,\r\n\t\tframeNumber: undefined,\r\n\t\tkickback: undefined,\r\n\t\ton: {\r\n\t\t\tanimate: undefined,\r\n\t\t\tmute: undefined,\r\n\t\t\tnextEnable: undefined,\r\n\t\t\tnextDisable: undefined,\r\n\t\t\tpause: undefined,\r\n\t\t\tplay: undefined,\r\n\t\t\tpreviousEnable: undefined,\r\n\t\t\tpreviousDisable: undefined,\r\n\t\t\tprogressBar: undefined,\r\n\t\t\tslidePlay: undefined,\r\n\t\t\tslidePause: undefined,\r\n\t\t\tslideMute: undefined,\r\n\t\t\tslideUnMute: undefined,\r\n\t\t\tscoFinish: undefined,\r\n\t\t\tunMute: undefined\r\n\t\t},\r\n\t\tpresentor: undefined\r\n\t}\r\n\tvar _isCompleted = false\r\n\tvar _isKickback = false\r\n\tvar _isMuted = false\r\n\tvar _isNextEnabled = false\r\n\tvar _isPaused = false\r\n\tvar _isPreviousEnabled = false\r\n\tvar _sco_frames = []\r\n\tvar _sco_frameLimit = 4\r\n\tvar _sco_quizTotal = 0\r\n\tvar _sco_scaledPassingScore\r\n\tvar _sco_XML\r\n\r\n\t// Communication Helpers\r\n\tvar _aicc = {\r\n\t\t_relayUrl: \"\",\r\n\t\t_version: '4.0',\r\n\t\tExit: function () {\r\n\t\t\t_ajax(this._relayUrl, {\r\n\t\t\t\tasync: false,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcommand: 'ExitAU',\r\n\t\t\t\t\tversion: this._version,\r\n\t\t\t\t\tsession_id: querystrings.aicc_sid\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tInit: function (callback) {\r\n\t\t\t_ajax(this._relayUrl, {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcommand: 'GetParam',\r\n\t\t\t\t\tversion: this._version,\r\n\t\t\t\t\tsession_id: querystrings.aicc_sid\r\n\t\t\t\t},\r\n\t\t\t\tdone: function (xhr) {\r\n\t\t\t\t\t_cmiError = $CODE_NoError\r\n\t\t\t\t\t_log(xhr.responseText)\r\n\t\t\t\t\tvar scoData = _parseIni(xhr.responseText)\r\n\t\t\t\t\tvar status = scoData.core.lesson_status.toLowerCase()\r\n\t\t\t\t\tvar statusSlice = status.trim().slice(0, 1)\r\n\r\n\t\t\t\t\t_cmi_learner_id = scoData.core.student_id\r\n\t\t\t\t\t_cmi_learner_name = scoData.core.student_name\r\n\t\t\t\t\t_cmi_location = scoData.core.lesson_location\r\n\r\n\t\t\t\t\tif ('n;i'.split(';').indexOf(statusSlice) > -1) {\r\n\t\t\t\t\t\t_cmi_completion_status = $CMI_Incomplete\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (statusSlice === 'f') {\r\n\t\t\t\t\t\t\t_cmi_completion_status = $CMI_Failed\r\n\t\t\t\t\t\t} else if (statusSlice === 'p') {\r\n\t\t\t\t\t\t\t_cmi_completion_status = $CMI_Passed\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_cmi_completion_status = $CMI_Completed\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_isCompleted = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (status.indexOf(',') > -1) {\r\n\t\t\t\t\t\tvar entry = status.split(',')[1].trim().slice(0, 1)\r\n\r\n\t\t\t\t\t\tif (entry === 'a') {\r\n\t\t\t\t\t\t\t_cmi_entry = 'ab-initio'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (entry === 'r' || (_cmi_location && _cmi_location !== '')) { // HACK: for systems that are using SCORMEngine to support the AICC HACP standard, there should never be a case that a location is stored but the LMS returns 'ab-inito'\r\n\t\t\t\t\t\t\t_cmi_entry = 'resume'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar score = scoData.core.score.split(',')\r\n\t\t\t\t\t_cmi_score_raw = score[0]\r\n\t\t\t\t\tif (scoData.core_lesson && scoData.core_lesson.suspend_data) {\r\n\t\t\t\t\t\t_cmi_suspend_data = _tryParse(scoData.core_lesson.suspend_data)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_initFinish(callback)\r\n\t\t\t\t},\r\n\t\t\t\tfail: function (xhr) {\r\n\t\t\t\t\tif (xhr.status === 402) {\r\n\t\t\t\t\t\t_log($ERR_SubscriptionInactive, !_debug())\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_initFinish(callback)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tPut: function () {\r\n\t\t\tvar status = _cmi_completion_status\r\n\t\t\tvar query = ''\r\n\r\n\t\t\tif (!_isCompleted) {\r\n\t\t\t\tif (status === $CMI_Completed || status === $CMI_Passed) {\r\n\t\t\t\t\t_isCompleted = true\r\n\t\t\t\t\tif (this._relayUrl.indexOf('?') > -1) {\r\n\t\t\t\t\t\tquery = '&completed=true'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tquery = '?completed=true'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (_cmi_exit !== '' || _hackComma) {\r\n\t\t\t\tstatus = status + ',' + _cmi_exit\r\n\t\t\t}\r\n\r\n\t\t\tvar aiccData = [\r\n\t\t\t\t'[core]',\r\n\t\t\t\t'lesson_location=' + _cmi_location,\r\n\t\t\t\t'score=' + _cmi_score_raw,\r\n\t\t\t\t'lesson_status=' + status,\r\n\t\t\t\t'time=' + _cmi_session_time,\r\n\t\t\t\t'[core_lesson]',\r\n\t\t\t\t'suspend_data=' + JSON.stringify(_cmi_suspend_data)\r\n\t\t\t].join('\\r\\n')\r\n\t\t\t_ajax(this._relayUrl + query, {\r\n\t\t\t\tasync: false,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcommand: 'PutParam',\r\n\t\t\t\t\tversion: this._version,\r\n\t\t\t\t\tsession_id: querystrings.aicc_sid,\r\n\t\t\t\t\taicc_data: aiccData\r\n\t\t\t\t},\r\n\t\t\t\tdone: function (xhr) {\r\n\t\t\t\t\t_cmiError = $CODE_NoError\r\n\t\t\t\t\t_log(xhr.responseText)\r\n\t\t\t\t},\r\n\t\t\t\tfail: function (xhr) {\r\n\t\t\t\t\tif (xhr.status === 402) {\r\n\t\t\t\t\t\t_log($ERR_SubscriptionInactive, !_debug())\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_log($ERR_CommunicationIssue, !_debug())\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_cmiError = $CODE_GeneralError\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tvar _scorm = {\r\n\t\t_api: undefined,\r\n\t\t_getApi: function (apiName) {\r\n\t\t\tthis._api = this._scanParents(win)\r\n\r\n\t\t\tif (!this._api && win.parent !== win) {\r\n\t\t\t\tthis._api = this._scanParents(win.parent, apiName)\r\n\t\t\t}\r\n\r\n\t\t\tif (!this._api && win.opener) {\r\n\t\t\t\tthis._api = this._scanParents(win.opener, apiName)\r\n\t\t\t}\r\n\t\t},\r\n\t\t_scanParents: function (w, apiName) {\r\n\t\t\ttry {\r\n\t\t\t\tvar tries = 0\r\n\t\t\t\twhile (!w[apiName] && w.parent !== w) {\r\n\t\t\t\t\ttries++\r\n\t\t\t\t\tif (tries > 10) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tw = w.parent\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn w[apiName]\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t},\r\n\t\tCommit: function () {\r\n\t\t\tvar result = 'false'\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\tresult = this._api.Commit('')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._api.LMSCommit('')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result.toString()\r\n\t\t},\r\n\t\tGetLastError: function () {\r\n\t\t\tvar errCode = 100\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\terrCode = this._api.GetLastError()\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrCode = this._api.LMSGetLastError()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn errCode.toString()\r\n\t\t},\r\n\t\tGetValue: function (element) {\r\n\t\t\tvar result = ''\r\n\t\t\tvar errCode = $CODE_GeneralError\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\t//convert data model elements from SCORM 1.2 to 2004\r\n\t\t\t\t\tswitch (element) {\r\n\t\t\t\t\t\tcase $CORE_Status: //there is not lesson_status in SCORM 2004 it was replaced with completion_status and success_status\r\n\t\t\t\t\t\t\telement = 'cmi.completion_status'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_Entry:\r\n\t\t\t\t\t\t\telement = 'cmi.entry'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_SessionTime:\r\n\t\t\t\t\t\t\telement = 'cmi.session_time'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'cmi.core.total_time':\r\n\t\t\t\t\t\t\telement = 'cmi.total_time'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_Location:\r\n\t\t\t\t\t\t\telement = 'cmi.location'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_StudentName:\r\n\t\t\t\t\t\t\telement = 'cmi.learner_name'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_StudentId:\r\n\t\t\t\t\t\t\telement = 'cmi.learner_id'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'cmi.student_preference._children':\r\n\t\t\t\t\t\t\telement = 'cmi.learner_preference._children'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'cmi.student_preference.language':\r\n\t\t\t\t\t\t\telement = 'cmi.learner_preference.language'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'cmi.core.score._children':\r\n\t\t\t\t\t\t\telement = 'cmi.score._children'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_ScoreRaw:\r\n\t\t\t\t\t\t\telement = 'cmi.score.raw'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'cmi.core.score.min':\r\n\t\t\t\t\t\t\telement = 'cmi.score.min'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'cmi.core.score.max':\r\n\t\t\t\t\t\t\telement = 'cmi.score.max'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresult = this._api.GetValue(element)\r\n\t\t\t\t\terrCode = this._api.GetLastError().toString()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._api.LMSGetValue(element)\r\n\t\t\t\t\terrCode = this._api.LMSGetLastError().toString()\r\n\t\t\t\t}\r\n\t\t\t\tif (errCode !== $CODE_NoError) {\r\n\t\t\t\t\tresult = ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result.toString()\r\n\t\t},\r\n\t\tInitialize: function (communication) {\r\n\t\t\tvar result = 'false'\r\n\t\t\tif (communication === $API_Scorm2004) {\r\n\t\t\t\tthis._getApi(\"API_1484_11\")\r\n\t\t\t\tif (this._api) {\r\n\t\t\t\t\tresult = this._api.Initialize('')\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis._getApi(\"API\")\r\n\t\t\t\tif (this._api) {\r\n\t\t\t\t\tresult = this._api.LMSInitialize('')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result.toString()\r\n\t\t},\r\n\t\tSetValue: function (element, value) {\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\t//convert data model elements from SCORM 1.2 to 2004\r\n\t\t\t\t\tswitch (element) {\r\n\t\t\t\t\t\tcase $CORE_Status://there is not lesson_status in SCORM 2004 it was replaced with completion_status and success_status\r\n\t\t\t\t\t\t\tif ((value === $CMI_Passed) || (value === $CMI_Failed)) {\r\n\t\t\t\t\t\t\t\telement = 'cmi.success_status'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ((value === $CMI_Completed) || (value === $CMI_Incomplete)) {\r\n\t\t\t\t\t\t\t\telement = 'cmi.completion_status'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_SessionTime:\r\n\t\t\t\t\t\t\telement = 'cmi.session_time'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_Location:\r\n\t\t\t\t\t\t\telement = 'cmi.location'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_Exit:\r\n\t\t\t\t\t\t\telement = 'cmi.exit'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $CORE_ScoreRaw:\r\n\t\t\t\t\t\t\telement = 'cmi.score.raw'\r\n\t\t\t\t\t\t\tthis._api.SetValue('cmi.score.scaled', (value / 100))\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._api.SetValue(element, value)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._api.LMSSetValue(element, value)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn\r\n\t\t},\r\n\t\tTerminate: function () {\r\n\t\t\tvar result = 'false'\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\tresult = this._api.Terminate('')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._api.LMSFinish('')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result.toString()\r\n\t\t}\r\n\t}\r\n\r\n\tvar SS = {\r\n\t\tInitSco: InitSco,\r\n\t\tGetLanguages: GetLanguages,\r\n\t\tSelectLanguage: SelectLanguage,\r\n\t\tResume: Resume,\r\n\t\tGetLocalizedValues: GetLocalizedValues,\r\n\t\tInitInterface: InitInterface,\r\n\t\tCC: function () { },\r\n\t\tMute: Mute,\r\n\t\tNext: Next,\r\n\t\tPlay: Play,\r\n\t\tPrevious: Previous,\r\n\t\tReplay: Replay,\r\n\t\tGetStudentName: GetStudentName,\r\n\t\tSlideEnd: SlideEnd,\r\n\t\tSlideStart: SlideStart,\r\n\t\tScoreResults: ScoreResults,\r\n\t\tQuizCorrect: QuizCorrect,\r\n\t\tQuizIncorrect: QuizIncorrect,\r\n\t\tversion: '2.9.11'\r\n\t}\r\n\r\n\t// Defining the object as a AMD module\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine('ss', [], function () {\r\n\t\t\treturn SS\r\n\t\t})\r\n\t}\r\n\r\n\t// Using flag to conditionally not set the window reference to the object\r\n\tif (!noGlobal) {\r\n\t\twin.SS = win.NS = SS\r\n\t}\r\n\r\n\treturn SS\r\n\r\n\t// Private functions\r\n\tfunction _ajax(url, options) {\r\n\t\tvar async = true\r\n\t\tvar data = ''\r\n\t\tvar ie9 = !win.requestAnimationFrame\r\n\t\tvar methods = {\r\n\t\t\tdone: function () { },\r\n\t\t\tfail: function () { }\r\n\t\t}\r\n\t\tvar type = 'POST'\r\n\t\tvar XHR = new XMLHttpRequest()\r\n\r\n\t\tif (options) {\r\n\t\t\tif (options.async === false) {\r\n\t\t\t\tasync = false\r\n\t\t\t}\r\n\t\t\tif (options.cache === false) {\r\n\t\t\t\ttype = 'GET'\r\n\t\t\t\turl = url + '?_=' + new Date().getTime()\r\n\t\t\t}\r\n\t\t\tif (options.data) {\r\n\t\t\t\tvar parts = []\r\n\t\t\t\tfor (var i in options.data) {\r\n\t\t\t\t\tif (options.data.hasOwnProperty(i)) {\r\n\t\t\t\t\t\tparts.push(encodeURIComponent(i) + '=' + encodeURIComponent(options.data[i]))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdata = parts.join('&')\r\n\t\t\t}\r\n\t\t\tif (options.done) {\r\n\t\t\t\tmethods.done = options.done\r\n\t\t\t}\r\n\t\t\tif (options.fail) {\r\n\t\t\t\tmethods.fail = options.fail\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (type === 'POST' && ie9) {\r\n\t\t\tXHR = new win.XDomainRequest()\r\n\t\t\tXHR.onload = function () {\r\n\t\t\t\tmethods.done.call(methods, XHR)\r\n\t\t\t}\r\n\t\t\tXHR.onerror = function () {\r\n\t\t\t\tmethods.fail.call(methods, XHR)\r\n\t\t\t}\r\n\t\t\tXHR.onprogress = function () { }\r\n\t\t\tXHR.ontimeout = function () { }\r\n\t\t}\r\n\t\tXHR.open(type, url, async)\r\n\t\tif (XHR.setRequestHeader) {\r\n\t\t\tXHR.setRequestHeader('content-type', 'application/x-www-form-urlencoded')\r\n\t\t\tXHR.onreadystatechange = function () {\r\n\t\t\t\tif (this.readyState === 4) {\r\n\t\t\t\t\tif (this.status === 200) {\r\n\t\t\t\t\t\tmethods.done.call(methods, this)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmethods.fail.call(methods, this)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetTimeout(function () {\r\n\t\t\tXHR.send(data)\r\n\t\t}, 0)\r\n\t}\r\n\r\n\tfunction _checkAutoPlay() { // Test for autoplay to determine if this is a mobile device\r\n\t\ttry {\r\n\t\t\tvar audio = new Audio()\r\n\t\t\t// this will only be triggered if autoplay works\r\n\t\t\taudio.addEventListener('play', function () {\r\n\t\t\t\twin.CanAutoplay = true\r\n\t\t\t}, false)\r\n\t\t\taudio.volume = 0\r\n\t\t\taudio.autoplay = true\r\n\r\n\t\t\taudio.src = 'end-sound.mp3'\r\n\t\t} catch (e) { }\r\n\t}\r\n\r\n\tfunction _createFrame(src) {\r\n\t\tvar frameName = _isKickback ? 'slide-kick' : 'slide-frame'\r\n\r\n\t\tif (src.indexOf('.swf') > -1) {\r\n\t\t\treturn '<embed fullscreen=\"yes\" height=\"100%\" src=\"' + src + '\" width=\"100%\" id=\"' + frameName + '\" name=\"' + frameName + '\" allowScriptAccess=\"sameDomain\" type=\"application/x-shockwave-flash\" quality=\"high\" wmode=\"opaque\"></embed>'\r\n\t\t}\r\n\t\treturn '<iframe height=\"100%\" id=\"' + frameName + '\" scrolling=\"no\" src=\"' + src + '\" style=\"border: none overflow: hidden\" width=\"100%\"></iframe>'\r\n\t}\r\n\r\n\tfunction _debug(set) {\r\n\t\tif (set) {\r\n\t\t\twin.location.hash = 'debug'\r\n\t\t}\r\n\t\treturn win.location.hash === '#debug'\r\n\t}\r\n\r\n\tfunction _exit() {\r\n\t\tif (_cmi_learner_id !== '~') {\r\n\t\t\t// Default to prevent sending more data\r\n\t\t\t_cmi_learner_id = '~'\r\n\r\n\t\t\tswitch (_cmiCommunication) {\r\n\t\t\t\tcase $API_Aicc:\r\n\t\t\t\tcase $API_Local:\r\n\t\t\t\t\t_aicc.Exit()\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase $API_Scorm12:\r\n\t\t\t\t\t_scorm.Terminate()\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase $API_TinCan:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _getFrameNumber(fileName) {\r\n\t\tfor (var i = 0; i < _sco_frames.length; i++) {\r\n\t\t\tif (_sco_frames[i].getAttribute('file') === fileName) {\r\n\t\t\t\treturn i + 1\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _getMatchedFrame(fileName) {\r\n\t\tfor (var i = 0; i < _sco_frames.length; i++) {\r\n\t\t\tif (_sco_frames[i].getAttribute('file') === fileName) {\r\n\t\t\t\treturn _sco_frames[i]\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _sco_frames[0]\r\n\t}\r\n\r\n\tfunction _initFinish(callback) {\r\n\t\tif (_cmi_learner_id === '~') {\r\n\t\t\t_log($ERR_NotInitialized, !_debug())\r\n\t\t}\r\n\t\t// Set events and keybinds\r\n\t\twin.addEventListener('beforeunload', _exit)\r\n\r\n\t\tdoc.onkeydown = function (e) {\r\n\t\t\tvar keyPressed = false\r\n\t\t\tif (e.which === 33) {\r\n\t\t\t\tif (_isNextEnabled || _debug()) { // PageUp\r\n\t\t\t\t\t_next()\r\n\t\t\t\t\tkeyPressed = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (e.which === 34) { // PageDown\r\n\t\t\t\tif (_isPreviousEnabled) {\r\n\t\t\t\t\t_previous()\r\n\t\t\t\t\tkeyPressed = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (e.which === 106) { // *\r\n\t\t\t\t_playToggle()\r\n\t\t\t\tkeyPressed = true\r\n\t\t\t}\r\n\t\t\tif (e.which === 36) { // Home\r\n\t\t\t\t_replay()\r\n\t\t\t\tkeyPressed = true\r\n\t\t\t}\r\n\t\t\tif (!_debug()) {\r\n\t\t\t\tif (e.which === 119) { // F8\r\n\t\t\t\t\t_debug(true)\r\n\t\t\t\t\tkeyPressed = true\r\n\t\t\t\t\t_log('Debug enabled')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (keyPressed) {\r\n\t\t\t\te.preventDefault()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!_cmi_suspend_data || !_cmi_suspend_data.scoId) {\r\n\t\t\tif (_cmi_location && _cmi_location !== '') {\r\n\t\t\t\tvar folder = _cmi_location.split('/')[0];\r\n\t\t\t\tvar options = SS.GetLanguages();\r\n\t\t\t\tfor (var i = 0; i < options.length; i++) {\r\n\t\t\t\t\tif (options[i].id === folder) {\r\n\t\t\t\t\t\t_cmi_suspend_data.scoId = folder;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_parseFrames()\r\n\r\n\t\tcallback(_cmi_entry === 'resume')\r\n\t}\r\n\r\n\tfunction _log(message, showUser) {\r\n\t\tif (showUser) {\r\n\t\t\talert(message)\r\n\t\t} else {\r\n\t\t\tif (win.console && win.console.log) {\r\n\t\t\t\twin.console.log(message)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _millisecondsToCMIDuration(timeDifference, version) {\r\n\t\t//Convert duration from milliseconds to 0000:00:00.00 format\r\n\t\tvar dtm = new Date()\r\n\t\tdtm.setTime(timeDifference)\r\n\t\tvar hms = ''\r\n\t\tvar h = '000' + Math.floor(timeDifference / 3600000)\r\n\t\tvar m = '0' + dtm.getMinutes()\r\n\t\tvar s = '0' + dtm.getSeconds()\r\n\t\tvar cs = '0' + Math.round(dtm.getMilliseconds() / 10)\r\n\t\thms = h.substr(h.length - 4) + ':' + m.substr(m.length - 2) + ':'\r\n\t\thms += s.substr(s.length - 2) + '.' + cs.substr(cs.length - 2)\r\n\r\n\t\tif (version === $API_Scorm2004) {\r\n\t\t\t//then convert hms to a timeinterval format\r\n\t\t\t//P[yY][mM][dD][T[hH][mM][s[.s]S]\r\n\t\t\t//example: PT1H5M (1 hour 5 miutes)\r\n\t\t\tvar aryPieces = hms.split(':')\r\n\t\t\tvar strHour = aryPieces[0]\r\n\t\t\tvar strMin = aryPieces[1]\r\n\t\t\tvar strSec = aryPieces[2]\r\n\r\n\t\t\thms = 'PT' + strHour + 'H' + strMin + 'M' + strSec + 'S'\r\n\t\t}\r\n\r\n\t\treturn hms\r\n\t}\r\n\r\n\tfunction _muteToggle() {\r\n\t\tif (_isMuted) {\r\n\t\t\tif (_interface.on.unMute) {\r\n\t\t\t\t_interface.on.unMute()\r\n\t\t\t}\r\n\t\t\t_isMuted = false\r\n\t\t\tif (_interface.on.slideUnMute) {\r\n\t\t\t\t_interface.on.slideUnMute()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (_interface.on.mute) {\r\n\t\t\t\t_interface.on.mute()\r\n\t\t\t}\r\n\t\t\t_isMuted = true\r\n\t\t\tif (_interface.on.slideMute) {\r\n\t\t\t\t_interface.on.slideMute()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _next() {\r\n\t\tif (_cmiCommunication === $API_Demo && _sco_frameLimit < _getFrameNumber(_current_frame.getAttribute('file'))) {\r\n\t\t\talert($ERR_DemoExceeded)\r\n\t\t} else {\r\n\t\t\tvar nextFileName\r\n\t\t\tvar found = false\r\n\t\t\tvar frames = _isKickback ? _current_frame.getElementsByTagName('kickback') : _sco_frames\r\n\t\t\tvar currentFileName = _isKickback ? _current_kickback.getAttribute('file') : _current_frame.getAttribute('file')\r\n\r\n\t\t\tfor (var i = 0; i < frames.length; i++) {\r\n\t\t\t\tvar fileName = frames[i].getAttribute('file')\r\n\t\t\t\tif (found) {\r\n\t\t\t\t\tnextFileName = fileName\r\n\t\t\t\t\tbreak\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (currentFileName === fileName) {\r\n\t\t\t\t\t\tfound = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (found && nextFileName) {\r\n\t\t\t\t_update(_getMatchedFrame(nextFileName))\r\n\t\t\t} else {\r\n\t\t\t\tif (_isKickback) {\r\n\t\t\t\t\t_isKickback = false\r\n\t\t\t\t\t_current_kickback = undefined\r\n\t\t\t\t\t_update(_current_frame, true)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _parseFrames() {\r\n\t\tvar topics = _sco_XML.getElementsByTagName('topics')\r\n\t\tvar selectedTopics\r\n\r\n\t\tif (!_cmi_suspend_data.scoId) {\r\n\t\t\t_cmi_suspend_data.scoId = _sco_XML.getElementsByTagName('languages')[0].getAttribute('default')\r\n\t\t}\r\n\r\n\t\tfor (var t = 0; t < topics.length; t++) {\r\n\t\t\tvar topic = topics[t]\r\n\t\t\tif (topic.getAttribute('lang') === _cmi_suspend_data.scoId) {\r\n\t\t\t\tselectedTopics = topic\r\n\t\t\t\tdoc.title = selectedTopics.getAttribute('title')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_sco_frames = []\r\n\r\n\t\tvar testFrames = selectedTopics.getElementsByTagName('page')\r\n\t\tvar exclude = [\"survey\"]\r\n\t\tif (_cmiCommunication === $API_Playthrough) {\r\n\t\t\texclude.push(\"quiz\")\r\n\t\t}\r\n\r\n\t\t_sco_quizTotal = 0\r\n\t\tfor (var f = 0; f < testFrames.length; f++) {\r\n\t\t\tvar type = testFrames[f].getAttribute('pType')\r\n\t\t\tif (exclude.indexOf(type) === -1) {\r\n\t\t\t\t_sco_frames.push(testFrames[f])\r\n\t\t\t\tif (type === \"quiz\") { // Getting quiz count\r\n\t\t\t\t\t_sco_quizTotal++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _parseIni(string) {\r\n\t\tvar regex = {\r\n\t\t\tsection: /^\\s*\\[\\s*([^\\]]*)\\s*\\]\\s*$/,\r\n\t\t\tparam: /^\\s*([\\w\\.\\-\\_]+)\\s*=\\s*(.*?)\\s*$/,\r\n\t\t\tcomment: /^\\s*;.*$/\r\n\t\t}\r\n\t\tvar value = {}\r\n\t\t// Pulling just ini data\r\n\t\tvar lines = string.substring(string.indexOf('[')).split(/\\n|\\r\\n/g)\r\n\t\tvar section = null\r\n\t\tlines.forEach(function (line) {\r\n\t\t\tif (regex.comment.test(line)) {\r\n\t\t\t\treturn\r\n\t\t\t} else if (regex.param.test(line)) {\r\n\t\t\t\tvar pMatch = line.match(regex.param)\r\n\t\t\t\tif (section) {\r\n\t\t\t\t\tvalue[section.toLowerCase()][pMatch[1].toLowerCase()] = pMatch[2]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue[pMatch[1].toLowerCase()] = pMatch[2]\r\n\t\t\t\t}\r\n\t\t\t} else if (regex.section.test(line)) {\r\n\t\t\t\tvar sMatch = line.match(regex.section)\r\n\t\t\t\tvalue[sMatch[1].toLowerCase()] = {}\r\n\t\t\t\tsection = sMatch[1].toLowerCase()\r\n\t\t\t} else if (line.length === 0 && section) {\r\n\t\t\t\tsection = null\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn value\r\n\t}\r\n\r\n\tfunction _playToggle() {\r\n\t\tif (_isPaused) {\r\n\t\t\tif (_interface.on.play) {\r\n\t\t\t\t_interface.on.play()\r\n\t\t\t}\r\n\t\t\t_isPaused = false\r\n\t\t\tif (_interface.on.slidePlay) {\r\n\t\t\t\t_interface.on.slidePlay()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (_interface.on.pause) {\r\n\t\t\t\t_interface.on.pause()\r\n\t\t\t}\r\n\t\t\t_isPaused = true\r\n\t\t\tif (_interface.on.slidePause) {\r\n\t\t\t\t_interface.on.slidePause()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _previous() {\r\n\t\tvar previousFileName\r\n\t\tvar frames = _isKickback ? _current_frame.getElementsByTagName('kickback') : _sco_frames\r\n\t\tvar currentFileName = _isKickback ? _current_kickback.getAttribute('file') : _current_frame.getAttribute('file')\r\n\r\n\t\tif (frames[0].getAttribute('file') !== currentFileName) {\r\n\t\t\tfor (var i = 0; i < frames.length; i++) {\r\n\t\t\t\tvar fileName = frames[i].getAttribute('file')\r\n\t\t\t\tif (previousFileName && currentFileName === fileName) { break }\r\n\t\t\t\tpreviousFileName = fileName\r\n\t\t\t}\r\n\r\n\t\t\t_update(_getMatchedFrame(previousFileName))\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _replay() {\r\n\t\tif (_isKickback) {\r\n\t\t\t_interface.kickback.html(_createFrame(_current_kickback.getAttribute('file')))\r\n\t\t} else {\r\n\t\t\t_interface.presentor.html(_createFrame(_current_frame.getAttribute('file')))\r\n\t\t}\r\n\t\tif (_interface.on.play) {\r\n\t\t\t_interface.on.play()\r\n\t\t\t_isPaused = false\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _toggleFrames(presentorOnTop) {\r\n\t\tif (win.CanAutoplay) {\r\n\t\t\t_interface.presentor.css('visibility', presentorOnTop ? 'visible' : 'hidden')\r\n\t\t\t_interface.kickback.css('visibility', presentorOnTop ? 'hidden' : 'visible')\r\n\t\t} else {\r\n\t\t\t_interface.presentor.css('display', presentorOnTop ? 'block' : 'none')\r\n\t\t\t_interface.kickback.css('display', presentorOnTop ? 'none' : 'block')\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _tryParse(json) {\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(json)\r\n\t\t} catch (e) {\r\n\t\t\treturn {}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _update(scoFrame, quizReturn) {\r\n\t\tvar file = scoFrame.getAttribute('file')\r\n\t\tvar frameNumber = _getFrameNumber(file)\r\n\t\tvar isEnd = scoFrame.getAttribute('end') === 'true'\r\n\t\tvar isQuiz = scoFrame.getAttribute('pType') === 'quiz' || scoFrame.getAttribute('pType') === 'summary'\r\n\t\tvar narration = scoFrame.getElementsByTagName('narration')[0]\r\n\t\tvar bullets = scoFrame.getElementsByTagName('bullets')[0]\r\n\r\n\t\t// Set values in LMS\r\n\t\tif (_cmi_learner_id !== '~') {\r\n\t\t\tvar timeNow = new Date()\r\n\t\t\tvar n = timeNow.getTime() - $NOW.getTime()\r\n\t\t\tvar v = _millisecondsToCMIDuration(n, _cmiCommunication)\r\n\r\n\t\t\tif (!_isKickback) {\r\n\t\t\t\t_cmi_location = file\r\n\t\t\t}\r\n\t\t\t_cmi_session_time = v.toString()\r\n\t\t\tif (isEnd) {\r\n\t\t\t\t_cmi_exit = ''\r\n\t\t\t\tif (_sco_scaledPassingScore) {\r\n\t\t\t\t\t_cmi_completion_status = $CMI_Passed\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_cmi_completion_status = $CMI_Completed\r\n\t\t\t\t\tif (_hackScore) {\r\n\t\t\t\t\t\t_cmi_completion_status = $CMI_Passed\r\n\t\t\t\t\t\t_cmi_score_raw = '100.00'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tswitch (_cmiCommunication) {\r\n\t\t\t\tcase $API_Aicc:\r\n\t\t\t\tcase $API_Local:\r\n\t\t\t\t\t_aicc.Put()\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase $API_Scorm12:\r\n\t\t\t\t\tif (!_isKickback) {\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_Location, _cmi_location)\r\n\t\t\t\t\t\t_cmiError = _scorm.GetLastError()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_cmiError === $CODE_NoError) {\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_SessionTime, _cmi_session_time)\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_Exit, _cmi_exit)\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_Status, _cmi_completion_status)\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_ScoreRaw, _cmi_score_raw)\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_SuspendData, JSON.stringify(_cmi_suspend_data))\r\n\t\t\t\t\t\t_cmiError = _scorm.GetLastError()\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_cmiError === $CODE_NoError) {\r\n\t\t\t\t\t\t_scorm.Commit()\r\n\t\t\t\t\t\t_cmiError = _scorm.GetLastError()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_log($ERR_CommunicationIssue, !_debug())\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase $API_TinCan:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t_log($ERR_NotInitialized, !_debug())\r\n\t\t}\r\n\r\n\t\tif (_cmiError === $CODE_NoError || _debug()) {\r\n\t\t\t// Update UI\r\n\t\t\tif (_interface.frameNumber) {\r\n\t\t\t\t_interface.frameNumber.html(frameNumber + ' / ' + _sco_frames.length)\r\n\t\t\t}\r\n\r\n\t\t\tif (_interface.on.progressBar) {\r\n\t\t\t\tvar percent = (frameNumber / _sco_frames.length)\r\n\t\t\t\tif (isNaN(percent)) {\r\n\t\t\t\t\tpercent = 0\r\n\t\t\t\t}\r\n\t\t\t\tif (percent > 1) {\r\n\t\t\t\t\tpercent = 1\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_interface.on.progressBar(percent * 100)\r\n\t\t\t}\r\n\r\n\t\t\tif (narration && narration !== null) {\r\n\t\t\t\tif (win.requestAnimationFrame) {\r\n\t\t\t\t\t_current_captions = new XMLSerializer().serializeToString(narration)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_current_captions = narration.xml\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_current_captions = ''\r\n\t\t\t}\r\n\r\n\t\t\tif (bullets && bullets !== null) {\r\n\t\t\t\tif (win.requestAnimationFrame) {\r\n\t\t\t\t\t_current_bullets = new XMLSerializer().serializeToString(bullets)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_current_bullets = bullets.xml\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_current_bullets = ''\r\n\t\t\t}\r\n\r\n\t\t\tif (quizReturn) {\r\n\t\t\t\t_toggleFrames(true)\r\n\t\t\t\t_interface.kickback.empty()\r\n\r\n\t\t\t\t_isNextEnabled = false\r\n\t\t\t\t_isPreviousEnabled = true\r\n\t\t\t} else {\r\n\t\t\t\tif (_isKickback) {\r\n\t\t\t\t\t_toggleFrames(false)\r\n\t\t\t\t\t_interface.kickback.html(_createFrame(file))\r\n\t\t\t\t\t_isPreviousEnabled = _current_frame.getElementsByTagName('kickback')[0].getAttribute('file') !== file\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_toggleFrames(true)\r\n\t\t\t\t\t_interface.presentor.html(_createFrame(file))\r\n\t\t\t\t\t_isPreviousEnabled = _sco_frames[0].getAttribute('file') !== file\r\n\t\t\t\t}\r\n\t\t\t\tif (!_isKickback && (isQuiz || (_interface.disableNext && frameNumber > 1))) {\r\n\t\t\t\t\t_isNextEnabled = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_isNextEnabled = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (_isPreviousEnabled) {\r\n\t\t\t\t_interface.on.previousEnable()\r\n\t\t\t} else {\r\n\t\t\t\t_interface.on.previousDisable()\r\n\t\t\t}\r\n\r\n\t\t\tif (_isNextEnabled) {\r\n\t\t\t\t_interface.on.nextEnable()\r\n\t\t\t} else {\r\n\t\t\t\t_interface.on.nextDisable()\r\n\t\t\t}\r\n\r\n\t\t\tif (isQuiz || isEnd) {\r\n\t\t\t\tSS.SlideStart({})\r\n\t\t\t}\r\n\t\t\tif (_interface.on.play) {\r\n\t\t\t\t_interface.on.play()\r\n\t\t\t\t_isPaused = false\r\n\t\t\t}\r\n\r\n\t\t\tif (isEnd) {\r\n\t\t\t\twin.setTimeout(_exit, 1000)\r\n\t\t\t\t_interface.on.scoFinish()\r\n\t\t\t}\r\n\r\n\t\t\tif (_isKickback) {\r\n\t\t\t\t_current_kickback = scoFrame\r\n\t\t\t} else {\r\n\t\t\t\t_current_frame = scoFrame\r\n\t\t\t}\r\n\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\t// Public functions\r\n\tfunction InitSco(callback) { // Using callback to prevent slide sync issues\r\n\t\tvar endAudio = doc.createElement('audio')\r\n\t\tendAudio.id = 'end'\r\n\t\tendAudio.src = 'end-sound.mp3'\r\n\t\tendAudio.preload = 'auto'\r\n\t\tendAudio.volume = 0\r\n\t\tdoc.body.appendChild(endAudio)\r\n\t\t_checkAutoPlay()\r\n\r\n\t\t// Scan for LMS communication format\r\n\t\tif (querystrings.mode) {\r\n\t\t\t_debug(true)\r\n\t\t\tif (querystrings.mode === $API_Playthrough) {\r\n\t\t\t\t_cmiCommunication = $API_Playthrough\r\n\t\t\t}\r\n\t\t\tif (querystrings.mode === $API_Demo) {\r\n\t\t\t\t_cmiCommunication = $API_Demo\r\n\t\t\t\tif (querystrings.limit) {\r\n\t\t\t\t\t_sco_frameLimit = querystrings.limit\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (_cmiCommunication === $API_None) {\r\n\t\t\tif (_scorm.Initialize($API_Scorm2004) === 'true') {\r\n\t\t\t\t_cmiCommunication = $API_Scorm2004\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (_cmiCommunication === $API_None) {\r\n\t\t\tif (_scorm.Initialize($API_Scorm12) === 'true') {\r\n\t\t\t\t_cmiCommunication = $API_Scorm12\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (_cmiCommunication === $API_None && querystrings.aicc_url && querystrings['sub-relay']) {\r\n\t\t\t_cmiCommunication = $API_Aicc\r\n\t\t\t_aicc._relayUrl = querystrings['sub-relay'] + '?relay-url=' + querystrings.aicc_url\r\n\t\t}\r\n\t\tif (_cmiCommunication === $API_None && querystrings.aicc_url) {\r\n\t\t\t_cmiCommunication = $API_Local\r\n\t\t\t_aicc._relayUrl = querystrings.aicc_url\r\n\t\t}\r\n\r\n\t\tvar author = doc.querySelector('meta[name=author]')\r\n\t\tvar julian = Math.floor(($NOW.getTime() / 86400000) - ($NOW.getTimezoneOffset() / 1440) + 2440587.5)\r\n\r\n\t\tif (author && author.getAttribute('content') < julian) {\r\n\t\t\t_log($ERR_SubscriptionInactive, !_debug())\r\n\t\t} else {\r\n\t\t\tvar scoXMLPath = 'sco.xml'\r\n\t\t\tif (querystrings.sco) {\r\n\t\t\t\tscoXMLPath = querystrings.sco\r\n\t\t\t}\r\n\r\n\t\t\t_ajax(scoXMLPath, {\r\n\t\t\t\tcache: false,\r\n\t\t\t\tdone: function (xhr) {\r\n\t\t\t\t\t_sco_XML = xhr.responseXML\r\n\t\t\t\t\tvar sco = _sco_XML.getElementsByTagName('sco')[0]\r\n\t\t\t\t\tif (sco.getAttribute('mastery-score')) {\r\n\t\t\t\t\t\t_sco_scaledPassingScore = sco.getAttribute('mastery-score')\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_log('SS v' + SS.version + ' Initialized, Tracking type: ' + _cmiCommunication)\r\n\t\t\t\t\tswitch (_cmiCommunication) {\r\n\t\t\t\t\t\tcase $API_Aicc:\r\n\t\t\t\t\t\tcase $API_Local:\r\n\t\t\t\t\t\t\t_aicc.Init(callback)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $API_Scorm12:\r\n\t\t\t\t\t\t\tif (_scorm.GetValue($CORE_Status) === 'not attempted') {\r\n\t\t\t\t\t\t\t\t_scorm.SetValue($CORE_Status, $CMI_Incomplete)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_cmi_learner_id = _scorm.GetValue($CORE_StudentId)\r\n\t\t\t\t\t\t\t_cmi_learner_name = _scorm.GetValue($CORE_StudentName)\r\n\t\t\t\t\t\t\t_cmi_entry = _scorm.GetValue($CORE_Entry)\r\n\t\t\t\t\t\t\t_cmi_location = _scorm.GetValue($CORE_Location)\r\n\t\t\t\t\t\t\t_cmi_score_raw = _scorm.GetValue($CORE_ScoreRaw)\r\n\t\t\t\t\t\t\tif (_scorm.GetValue($CORE_SuspendData) !== '') {\r\n\t\t\t\t\t\t\t\tvar suspendData = _scorm.GetValue($CORE_SuspendData)\r\n\t\t\t\t\t\t\t\tif (suspendData.lastIndexOf('suspend_data=', 0) === 0) {\r\n\t\t\t\t\t\t\t\t\tsuspendData = suspendData.slice(13)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_cmi_suspend_data = _tryParse(suspendData)\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t_initFinish(callback)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase $API_TinCan:\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t_initFinish(callback)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Public second step calls (GetLanguage -> SelectLanguage) Or (Resume)\r\n\tfunction GetLanguages() {\r\n\t\tvar languagesXML = _sco_XML.getElementsByTagName('language')\r\n\t\tvar languagesJSON = []\r\n\r\n\t\tfor (var i = 0; i < languagesXML.length; i++) {\r\n\t\t\tvar lang = languagesXML[i]\r\n\t\t\tlanguagesJSON[i] = { id: lang.getAttribute('id'), label: lang.getAttribute('label') }\r\n\t\t}\r\n\r\n\t\treturn languagesJSON\r\n\t}\r\n\r\n\tfunction SelectLanguage(language) {\r\n\t\t// iOS audio fallback\r\n\t\tdoc.getElementById('end').play()\r\n\r\n\t\tif (language) {\r\n\t\t\t_cmi_suspend_data.scoId = language\r\n\t\t}\r\n\r\n\t\t_cmi_location = \"\"\r\n\r\n\t\t_parseFrames()\r\n\t}\r\n\r\n\tfunction Resume() {\r\n\t\t// iOS audio fallback\r\n\t\tdoc.getElementById('end').play()\r\n\t}\r\n\r\n\t// Public last step calls\r\n\tfunction GetLocalizedValues() {\r\n\t\tvar languagesXML = _sco_XML.getElementsByTagName('language')\r\n\t\tvar data = {}\r\n\t\tfor (var i = 0; i < languagesXML.length; i++) {\r\n\t\t\tvar lang = languagesXML[i]\r\n\t\t\tif (lang.getAttribute('id') === _cmi_suspend_data.scoId) {\r\n\t\t\t\tvar langElements = lang.childNodes\r\n\t\t\t\tfor (var e = 0; e < langElements.length; e++) {\r\n\t\t\t\t\tif (langElements[e].textContent) {\r\n\t\t\t\t\t\tdata[langElements[e].tagName] = langElements[e].textContent\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata[langElements[e].tagName] = langElements[e].firstChild.nodeValue\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data\r\n\t}\r\n\r\n\tfunction InitInterface(options) {\r\n\t\t_interface.on.animate = options.onAnimate\r\n\t\t_interface.on.progressBar = options.setProgressBar\r\n\t\t_interface.on.scoFinish = options.onScoFinish\r\n\r\n\t\t_interface.frameNumber = options.frameField\r\n\t\t_interface.presentor = options.presentorFrame\r\n\t\t_interface.kickback = options.kickbackFrame\r\n\r\n\t\tif (options.titleField) {\r\n\t\t\toptions.titleField.html(doc.title)\r\n\t\t}\r\n\t\tif (options.commaHack) {\r\n\t\t\t_hackComma = true\r\n\t\t}\r\n\t\tif (options.scoreHack) {\r\n\t\t\t_hackScore = true\r\n\t\t}\r\n\r\n\t\t_update(_getMatchedFrame(_cmi_location))\r\n\t}\r\n\r\n\tfunction Mute(options) {\r\n\t\t_interface.on.mute = options.mute\r\n\t\t_interface.on.unMute = options.unMute\r\n\r\n\t\t_interface.on.unMute() // Default the button to un-muted\r\n\r\n\t\treturn _muteToggle\r\n\t}\r\n\r\n\tfunction Next(options) {\r\n\t\t_interface.on.nextDisable = options.onDisable\r\n\t\t_interface.on.nextEnable = options.onEnable\r\n\r\n\t\tif (options.disableOnNext && _cmiCommunication !== $API_Playthrough) {\r\n\t\t\t_interface.disableNext = options.disableOnNext\r\n\t\t}\r\n\r\n\t\treturn _next\r\n\t}\r\n\r\n\tfunction Play(options) {\r\n\t\t_interface.on.play = options.play\r\n\t\t_interface.on.pause = options.pause\r\n\r\n\t\treturn _playToggle\r\n\t}\r\n\r\n\tfunction Previous(options) {\r\n\t\t_interface.on.previousDisable = options.onDisable\r\n\t\t_interface.on.previousEnable = options.onEnable\r\n\r\n\t\treturn _previous\r\n\t}\r\n\r\n\tfunction Replay() {\r\n\t\treturn _replay\r\n\t}\r\n\r\n\t// Public slide functions\r\n\tfunction GetStudentName() {\r\n\t\treturn _cmi_learner_name\r\n\t}\r\n\r\n\tfunction SlideEnd() {\r\n\t\tif (!win.CanAutoplay) {\r\n\t\t\t_checkAutoPlay()\r\n\t\t}\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\tvar end = doc.getElementById('end')\r\n\t\t\tend.volume = 1\r\n\t\t\tend.play()\r\n\t\t\tif (win.CanAutoplay) {\r\n\t\t\t\t_interface.on.nextEnable()\r\n\t\t\t\t_isNextEnabled = true\r\n\t\t\t} else {\r\n\t\t\t\t_next()\r\n\t\t\t}\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\tfunction SlideStart(options) {\r\n\t\t_interface.on.slidePause = options.slidePause\r\n\t\t_interface.on.slidePlay = options.slidePlay\r\n\t\t_interface.on.slideMute = options.slideMute\r\n\t\t_interface.on.slideUnMute = options.slideUnMute\r\n\r\n\t\tif (_interface.on.animate) {\r\n\t\t\t_interface.on.animate(_current_bullets, _current_captions)\r\n\t\t}\r\n\t\tif (_isMuted && _interface.on.slideMute) {\r\n\t\t\t_interface.on.slideMute()\r\n\t\t}\r\n\t}\r\n\r\n\tfunction ScoreResults() {\r\n\t\tvar answers = 0\r\n\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\tanswers = _cmi_suspend_data.answered.length\r\n\t\t}\r\n\t\tvar ratio = answers / _sco_quizTotal\r\n\r\n\t\treturn {\r\n\t\t\tanswered: answers,\r\n\t\t\tpassed: ratio >= _sco_scaledPassingScore,\r\n\t\t\tpercent: (ratio * 100).toFixed(2),\r\n\t\t\ttotal: _sco_quizTotal\r\n\t\t}\r\n\t}\r\n\r\n\tfunction QuizCorrect() {\r\n\t\tif (_sco_scaledPassingScore) {\r\n\t\t\tif (_current_frame.getAttribute('pType') === 'quiz') {\r\n\t\t\t\tvar index = -1\r\n\t\t\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\t\t\tindex = _cmi_suspend_data.answered.indexOf(_current_frame.getAttribute('file'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_cmi_suspend_data.answered = []\r\n\t\t\t\t}\r\n\t\t\t\tif (index === -1) {\r\n\t\t\t\t\t_cmi_suspend_data.answered.push(_current_frame.getAttribute('file'))\r\n\r\n\t\t\t\t\tvar answers = 0\r\n\t\t\t\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\t\t\t\tanswers = _cmi_suspend_data.answered.length\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar ratio = answers / _sco_quizTotal\r\n\r\n\t\t\t\t\t_cmi_score_raw = (ratio * 100).toFixed(2)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_next()\r\n\t}\r\n\r\n\tfunction QuizIncorrect() {\r\n\t\tvar firstKickback = _current_frame.getElementsByTagName('kickback')[0]\r\n\r\n\t\tif (_sco_scaledPassingScore) {\r\n\t\t\tvar index = -1\r\n\t\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\t\tindex = _cmi_suspend_data.answered.indexOf(_current_frame.getAttribute('file'))\r\n\t\t\t}\r\n\t\t\tif (index > -1) {\r\n\t\t\t\t_cmi_suspend_data.answered.splice(index, 1)\r\n\r\n\t\t\t\tvar answers = 0\r\n\t\t\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\t\t\tanswers = _cmi_suspend_data.answered.length\r\n\t\t\t\t}\r\n\t\t\t\tvar ratio = answers / _sco_quizTotal\r\n\r\n\t\t\t\t_cmi_score_raw = (ratio * 100).toFixed(2)\r\n\t\t\t}\r\n\r\n\t\t\tif (firstKickback) {\r\n\t\t\t\t_isKickback = false\r\n\r\n\t\t\t\t_update(_getMatchedFrame(firstKickback.getAttribute('file')))\r\n\t\t\t} else {\r\n\t\t\t\t_next()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (firstKickback) {\r\n\t\t\t\t_isKickback = true\r\n\r\n\t\t\t\t_update(_getMatchedFrame(firstKickback.getAttribute('file')))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}))"],"sourceRoot":"/source/"}