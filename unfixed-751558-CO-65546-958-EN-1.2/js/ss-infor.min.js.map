{"version":3,"sources":["ss-infor.js"],"names":["this","CanAutoplay","NS","win","doc","querystrings","undefined","SS","$API_Aicc","$API_Local","$API_None","$API_Scorm12","$API_Scorm2004","$API_TinCan","$CMI_Completed","$CMI_Failed","$CMI_Incomplete","$CMI_Passed","$CODE_GeneralError","$CODE_NoError","$CORE_Entry","$CORE_Exit","$CORE_Location","$CORE_SessionTime","$CORE_ScoreRaw","$CORE_Status","$CORE_StudentId","$CORE_StudentName","$CORE_SuspendData","$ERR_CommunicationIssue","$ERR_DemoExceeded","$ERR_NotInitialized","$ERR_SubscriptionInactive","$NOW","Date","_cmi_completion_status","_cmi_entry","_cmi_exit","_cmi_learner_id","_cmi_learner_name","_cmi_location","_cmi_score_raw","_cmi_session_time","_cmi_suspend_data","_cmiCommunication","_cmiError","_current_bullets","_current_captions","_current_frame","_current_kickback","_current_language","_debug","_demoFrameLimit","_interface","disableNext","frameNumber","kickback","on","animate","mute","nextEnable","nextDisable","pause","play","previousEnable","previousDisable","progressBar","slidePlay","slidePause","slideMute","slideUnMute","scoFinish","unMute","presentor","title","_isCompleted","_isKickback","_isMuted","_isNextEnabled","_isPaused","_isPreviousEnabled","_sco_frames","_sco_languages","_sco_quizTotal","_sco_scaled_passing_score","_sco_XML","_aicc","_relayUrl","_version","Exit","_ajax","async","data","command","version","session_id","aicc_sid","Put","status","query","indexOf","aiccData","JSON","stringify","join","aicc_data","done","xhr","_log","responseText","fail","url","options","ie9","requestAnimationFrame","methods","type","XHR","XMLHttpRequest","cache","getTime","parts","i","hasOwnProperty","push","encodeURIComponent","XDomainRequest","onload","call","onerror","onprogress","ontimeout","open","setRequestHeader","onreadystatechange","readyState","setTimeout","send","_checkAutoPlay","audio","Audio","addEventListener","volume","autoplay","src","e","_createFrame","frameName","_exit","_scorm","Terminate","_getFrameNumber","fileName","length","getAttribute","_getMatchedFrame","_initFinish","callback","onkeydown","keyPressed","which","_next","_previous","_playToggle","_replay","preventDefault","folder","split","GetLanguages","id","_parseFrames","message","showUser","alert","console","log","_millisecondsToCMIDuration","timeDifference","dtm","setTime","hms","h","Math","floor","m","getMinutes","s","getSeconds","cs","round","getMilliseconds","substr","aryPieces","strHour","strMin","strSec","_muteToggle","nextFileName","found","frames","getElementsByTagName","currentFileName","nextFrame","_update","currentLanguage","selectedTopics","topics","t","topic","testFrames","f","frame","_parseIni","string","regex","section","param","comment","value","lines","substring","forEach","line","test","pMatch","match","toLowerCase","sMatch","previousFileName","previousFrame","html","_api","_getApi","w","apiName","_scanParents","parent","opener","tries","Commit","result","LMSCommit","toString","GetLastError","errCode","LMSGetLastError","GetValue","element","LMSGetValue","Initialize","LMSInitialize","SetValue","LMSSetValue","LMSFinish","_toggleFrames","presentorOnTop","css","scoFrame","quizReturn","file","isEnd","isQuiz","narration","bullets","timeNow","n","v","percent","isNaN","XMLSerializer","serializeToString","xml","empty","SlideStart","InitSco","endAudio","createElement","preload","body","appendChild","debug","demo","aicc_url","subid","local","author","querySelector","julian","getTimezoneOffset","scoXMLPath","sco","responseXML","scoData","core","lesson_status","statusSlice","trim","slice","student_id","student_name","lesson_location","entry","score","core_lesson","suspend_data","parse","suspendData","lastIndexOf","languagesJSON","lang","label","SelectLanguage","language","getElementById","Resume","matchedPage","GetLocalizedValues","langElements","childNodes","textContent","tagName","firstChild","nodeValue","InitInterface","onAnimate","setProgressBar","onScoFinish","titleField","frameField","presentorFrame","kickbackFrame","Mute","Next","onDisable","onEnable","disableOnNext","Play","Previous","Replay","EndSco","top","close","GetStudentName","SlideEnd","end","ScoreResults","answers","answered","ratio","passed","toFixed","total","QuizCorrect","index","QuizIncorrect","firstKickback","splice","matchedFrame","matchedKickback","document"],"mappings":"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","file":"ss.2.9.min.js","sourcesContent":["this.CanAutoplay = false;\r\nthis.NS = (function (win, doc, querystrings, undefined) {\r\n\t'use strict';\r\n\r\n\tvar SS = {};\r\n\t// Contstants\r\n\tvar $API_Aicc = 'aicc';\r\n\tvar $API_Local = 'aicc-local';\r\n\tvar $API_None = 'none';\r\n\tvar $API_Scorm12 = '1.2';\r\n\tvar $API_Scorm2004 = '2004';\r\n\tvar $API_TinCan = 'xapi';\r\n\tvar $CMI_Completed = 'completed';\r\n\tvar $CMI_Failed = 'failed';\r\n\tvar $CMI_Incomplete = 'incomplete';\r\n\tvar $CMI_Passed = 'passed';\r\n\tvar $CODE_GeneralError = '100';\r\n\tvar $CODE_NoError = '0';\r\n\tvar $CORE_Entry = 'cmi.core.entry';\r\n\tvar $CORE_Exit = 'cmi.core.exit';\r\n\tvar $CORE_Location = 'cmi.core.lesson_location';\r\n\tvar $CORE_SessionTime = 'cmi.core.session_time';\r\n\tvar $CORE_ScoreRaw = 'cmi.core.score.raw';\r\n\tvar $CORE_Status = 'cmi.core.lesson_status';\r\n\tvar $CORE_StudentId = 'cmi.core.student_id';\r\n\tvar $CORE_StudentName = 'cmi.core.student_name';\r\n\tvar $CORE_SuspendData = 'cmi.suspend_data';\r\n\tvar $ERR_CommunicationIssue = 'An error occurred with the action you performed, if you continue to get this message please close and restart the course. \\n\\n Se ha producido un error en la accion realizada, si usted continua recibir este mensaje, por favor, cierre y reinicie el curso.';\r\n\tvar $ERR_DemoExceeded = 'Thank you for watching this course demo!';\r\n\tvar $ERR_NotInitialized = 'This course encountered an error. Your progress will NOT be recorded. Please close and restart the course. \\n\\n Este curso ha detectado un error. NO se grabara su progreso. Por favor, cierre y reincie el curso.';\r\n\tvar $ERR_SubscriptionInactive = 'Sorry this subscription is no longer active. Please contact your supervisor or SafetySkills support at support@safetyskills.com';\r\n\tvar $NOW = new Date();\r\n\r\n\t// Fields\r\n\tvar _cmi_completion_status = $CMI_Incomplete;\r\n\t//var _cmi_credit = 'credit';\r\n\tvar _cmi_entry = '';\r\n\tvar _cmi_exit = 'suspend';\r\n\t//var _cmi_launch_data = '';\r\n\tvar _cmi_learner_id = '~';\r\n\tvar _cmi_learner_name = 'Example, Anne E.';\r\n\tvar _cmi_location = '';\r\n\t//var _cmi_mode = 'normal';\r\n\tvar _cmi_score_raw = '';\r\n\tvar _cmi_session_time = '00:00:00';\r\n\t//var _cmi_success_status = 'unknown';\r\n\tvar _cmi_suspend_data = {};\r\n\tvar _cmiCommunication = $API_None;\r\n\tvar _cmiError = $CODE_GeneralError;\r\n\tvar _current_bullets = '';\r\n\tvar _current_captions = undefined;\r\n\tvar _current_frame = undefined;\r\n\tvar _current_kickback = undefined;\r\n\tvar _current_language = '';\r\n\tvar _debug = false;\r\n\tvar _demoFrameLimit = 0;\r\n\tvar _interface = {\r\n\t\tdisableNext: false,\r\n\t\tframeNumber: undefined,\r\n\t\tkickback: undefined,\r\n\t\ton: {\r\n\t\t\tanimate: undefined,\r\n\t\t\tmute: undefined,\r\n\t\t\tnextEnable: undefined,\r\n\t\t\tnextDisable: undefined,\r\n\t\t\tpause: undefined,\r\n\t\t\tplay: undefined,\r\n\t\t\tpreviousEnable: undefined,\r\n\t\t\tpreviousDisable: undefined,\r\n\t\t\tprogressBar: undefined,\r\n\t\t\tslidePlay: undefined,\r\n\t\t\tslidePause: undefined,\r\n\t\t\tslideMute: undefined,\r\n\t\t\tslideUnMute: undefined,\r\n\t\t\tscoFinish: undefined,\r\n\t\t\tunMute: undefined\r\n\t\t},\r\n\t\tpresentor: undefined,\r\n\t\ttitle: undefined\r\n\t};\r\n\tvar _isCompleted = false;\r\n\tvar _isKickback = false;\r\n\tvar _isMuted = false;\r\n\tvar _isNextEnabled = false;\r\n\tvar _isPaused = false;\r\n\tvar _isPreviousEnabled = true;\r\n\tvar _sco_frames = [];\r\n\tvar _sco_languages = [];\r\n\tvar _sco_quizTotal = 0;\r\n\tvar _sco_scaled_passing_score = undefined;\r\n\tvar _sco_XML = undefined;\r\n\t// Helpers\r\n\tvar _aicc = {\r\n\t\t_relayUrl: 'https://scorm.safetyskills.com/relay/',\r\n\t\t_version: '4.0',\r\n\t\tExit: function () {\r\n\t\t\t_ajax(this._relayUrl, {\r\n\t\t\t\tasync: false,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcommand: 'ExitAU',\r\n\t\t\t\t\tversion: this._version,\r\n\t\t\t\t\tsession_id: querystrings.aicc_sid\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tPut: function () {\r\n\t\t\tvar status = _cmi_completion_status;\r\n\t\t\tvar query = '';\r\n\r\n\t\t\tif (!_isCompleted) {\r\n\t\t\t\tif (status === $CMI_Completed || status === $CMI_Passed) {\r\n\t\t\t\t\t_isCompleted = true;\r\n\t\t\t\t\tif (this._relayUrl.indexOf('?') > -1) {\r\n\t\t\t\t\t\tquery = '&completed=true';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tquery = '?completed=true';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar aiccData = [\r\n\t\t\t\t'[core]',\r\n\t\t\t\t'lesson_location=' + _cmi_location,\r\n\t\t\t\t'score=' + _cmi_score_raw,\r\n\t\t\t\t'lesson_status=' + status + ',' + _cmi_exit,\r\n\t\t\t\t'time=' + _cmi_session_time,\r\n\t\t\t\t'[core_lesson]',\r\n\t\t\t\t'suspend_data=' + JSON.stringify(_cmi_suspend_data)\r\n\t\t\t].join('\\r\\n');\r\n\t\t\t_ajax(this._relayUrl + query, {\r\n\t\t\t\tasync: false,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcommand: 'PutParam',\r\n\t\t\t\t\tversion: this._version,\r\n\t\t\t\t\tsession_id: querystrings.aicc_sid,\r\n\t\t\t\t\taicc_data: aiccData\r\n\t\t\t\t},\r\n\t\t\t\tdone: function (xhr) {\r\n\t\t\t\t\t_cmiError = $CODE_NoError;\r\n\t\t\t\t\t_log(xhr.responseText);\r\n\t\t\t\t},\r\n\t\t\t\tfail: function (xhr) {\r\n\t\t\t\t\tif (xhr.status === 402) {\r\n\t\t\t\t\t\t_log($ERR_SubscriptionInactive, !_debug);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_log($ERR_CommunicationIssue, !_debug);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_cmiError = $CODE_GeneralError;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvar _ajax = function (url, options) {\r\n\t\tvar async = true;\r\n\t\tvar data = '';\r\n\t\tvar ie9 = !win.requestAnimationFrame;\r\n\t\tvar methods = {\r\n\t\t\tdone: function () { },\r\n\t\t\tfail: function () { }\r\n\t\t};\r\n\t\tvar type = 'POST';\r\n\t\tvar XHR = new XMLHttpRequest();\r\n\r\n\t\tif (options) {\r\n\t\t\tif (options.async === false) {\r\n\t\t\t\tasync = false;\r\n\t\t\t}\r\n\t\t\tif (options.cache === false) {\r\n\t\t\t\ttype = 'GET';\r\n\t\t\t\turl = url + '?_=' + new Date().getTime();\r\n\t\t\t}\r\n\t\t\tif (options.data) {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor (var i in options.data) {\r\n\t\t\t\t\tif (options.data.hasOwnProperty(i)) {\r\n\t\t\t\t\t\tparts.push(encodeURIComponent(i) + '=' + encodeURIComponent(options.data[i]));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdata = parts.join('&');\r\n\t\t\t}\r\n\t\t\tif (options.done) {\r\n\t\t\t\tmethods.done = options.done;\r\n\t\t\t}\r\n\t\t\tif (options.fail) {\r\n\t\t\t\tmethods.fail = options.fail;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (type === 'POST' && ie9) {\r\n\t\t\tXHR = new win.XDomainRequest();\r\n\t\t\tXHR.onload = function () {\r\n\t\t\t\tmethods.done.call(methods, XHR);\r\n\t\t\t};\r\n\t\t\tXHR.onerror = function () {\r\n\t\t\t\tmethods.fail.call(methods, XHR);\r\n\t\t\t};\r\n\t\t\tXHR.onprogress = function () { };\r\n\t\t\tXHR.ontimeout = function () { };\r\n\t\t}\r\n\t\tXHR.open(type, url, async);\r\n\t\tif (XHR.setRequestHeader) {\r\n\t\t\tXHR.setRequestHeader('content-type', 'application/x-www-form-urlencoded; charset=utf-8');\r\n\t\t\tXHR.onreadystatechange = function () {\r\n\t\t\t\tif (this.readyState === 4) {\r\n\t\t\t\t\tif (this.status === 200) {\r\n\t\t\t\t\t\tmethods.done.call(methods, this);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmethods.fail.call(methods, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\tsetTimeout(function () {\r\n\t\t\tXHR.send(data);\r\n\t\t}, 0);\r\n\t};\r\n\tvar _checkAutoPlay = function () { // Test for autoplay to determine if this is a mobile device\r\n\t\ttry {\r\n\t\t\tvar audio = new Audio();\r\n\t\t\t// this will only be triggered if autoplay works\r\n\t\t\taudio.addEventListener('play', function () {\r\n\t\t\t\twin.CanAutoplay = true;\r\n\t\t\t}, false);\r\n\t\t\taudio.volume = 0;\r\n\t\t\taudio.autoplay = true;\r\n\r\n\t\t\taudio.src = 'end-sound.mp3';\r\n\t\t} catch (e) { }\r\n\t};\r\n\tvar _createFrame = function (src) {\r\n\t\tvar frameName = _isKickback ? 'slide-kick' : 'slide-frame';\r\n\r\n\t\tif (src.indexOf('.swf') > -1) {\r\n\t\t\treturn '<embed fullscreen=\"yes\" height=\"100%\" src=\"' + src + '\" width=\"100%\" id=\"' + frameName + '\" name=\"' + frameName + '\" allowScriptAccess=\"sameDomain\" type=\"application/x-shockwave-flash\" quality=\"high\" wmode=\"opaque\"></embed>';\r\n\t\t}\r\n\t\treturn '<iframe height=\"100%\" id=\"' + frameName + '\" scrolling=\"no\" src=\"' + src + '\" style=\"border: none; overflow: hidden;\" width=\"100%\"></iframe>';\r\n\t};\r\n\tvar _exit = function () {\r\n\t\tif (_cmi_learner_id !== '~') {\r\n\t\t\t// Default to prevent sending more data\r\n\t\t\t_cmi_learner_id = '~';\r\n\r\n\t\t\tswitch (_cmiCommunication) {\r\n\t\t\t\tcase $API_Aicc:\r\n\t\t\t\tcase $API_Local:\r\n\t\t\t\t\t_aicc.Exit();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $API_Scorm12:\r\n\t\t\t\t\t_scorm.Terminate();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $API_TinCan:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar _getFrameNumber = function (fileName) {\r\n\t\tfor (var i = 0; i < _sco_frames.length; i++) {\r\n\t\t\tif (_sco_frames[i].getAttribute('file') === fileName) {\r\n\t\t\t\treturn i + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar _getMatchedFrame = function (fileName) {\r\n\t\tfor (var i = 0; i < _sco_frames.length; i++) {\r\n\t\t\tif (_sco_frames[i].getAttribute('file') === fileName) {\r\n\t\t\t\treturn _sco_frames[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _sco_frames[0];\r\n\t};\r\n\tvar _initFinish = function (callback) {\r\n\t\tif (_cmi_learner_id === '~') {\r\n\t\t\t_log($ERR_NotInitialized, !_debug);\r\n\t\t}\r\n\t\t// Set events and keybinds\r\n\t\twin.addEventListener('beforeunload', _exit);\r\n\r\n\t\tdoc.onkeydown = function (e) {\r\n\t\t\tvar keyPressed = false;\r\n\t\t\tif (e.which === 33) {\r\n\t\t\t\tif (_isNextEnabled || _debug) { // PageUp\r\n\t\t\t\t\t_next();\r\n\t\t\t\t\tkeyPressed = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (e.which === 34) { // PageDown\r\n\t\t\t\tif (_isPreviousEnabled) {\r\n\t\t\t\t\t_previous();\r\n\t\t\t\t\tkeyPressed = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (e.which === 106) { // *\r\n\t\t\t\t_playToggle();\r\n\t\t\t\tkeyPressed = true;\r\n\t\t\t}\r\n\t\t\tif (e.which === 36) { // Home\r\n\t\t\t\t_replay();\r\n\t\t\t\tkeyPressed = true;\r\n\t\t\t}\r\n\t\t\tif (!_debug) {\r\n\t\t\t\tif (e.which === 119) { // F8\r\n\t\t\t\t\t_debug = true;\r\n\t\t\t\t\tkeyPressed = true;\r\n\t\t\t\t\t_log('Debug enabled');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (keyPressed) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Select language if location was stored\r\n\t\tif (_cmi_location && _cmi_location !== '') {\r\n\t\t\tvar folder = _cmi_location.split('/')[0];\r\n\t\t\tvar options = SS.GetLanguages();\r\n\t\t\tfor (var i = 0; i < options.length; i++) {\r\n\t\t\t\tif (options[i].id === folder) {\r\n\t\t\t\t\t_current_language = folder;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t_parseFrames(_current_language);\r\n\r\n\t\tcallback(_cmi_entry === 'resume');\r\n\t};\r\n\tvar _log = function (message, showUser) {\r\n\t\tif (showUser) {\r\n\t\t\talert(message);\r\n\t\t} else {\r\n\t\t\tif (win.console && win.console.log) {\r\n\t\t\t\twin.console.log(message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar _millisecondsToCMIDuration = function (timeDifference, version) {\r\n\t\t//Convert duration from milliseconds to 0000:00:00.00 format\r\n\t\tvar dtm = new Date();\r\n\t\tdtm.setTime(timeDifference);\r\n\t\tvar hms = '';\r\n\t\tvar h = '000' + Math.floor(timeDifference / 3600000);\r\n\t\tvar m = '0' + dtm.getMinutes();\r\n\t\tvar s = '0' + dtm.getSeconds();\r\n\t\tvar cs = '0' + Math.round(dtm.getMilliseconds() / 10);\r\n\t\thms = h.substr(h.length - 4) + ':' + m.substr(m.length - 2) + ':';\r\n\t\thms += s.substr(s.length - 2) + '.' + cs.substr(cs.length - 2);\r\n\r\n\t\tif (version === $API_Scorm2004) {\r\n\t\t\t//then convert hms to a timeinterval format\r\n\t\t\t//P[yY][mM][dD][T[hH][mM][s[.s]S]\r\n\t\t\t//example: PT1H5M (1 hour 5 miutes)\r\n\t\t\tvar aryPieces = hms.split(':');\r\n\t\t\tvar strHour = aryPieces[0];\r\n\t\t\tvar strMin = aryPieces[1];\r\n\t\t\tvar strSec = aryPieces[2];\r\n\r\n\t\t\thms = 'PT' + strHour + 'H' + strMin + 'M' + strSec + 'S';\r\n\t\t}\r\n\r\n\t\treturn hms;\r\n\t};\r\n\tvar _muteToggle = function () {\r\n\t\tif (_isMuted) {\r\n\t\t\tif (_interface.on.unMute) {\r\n\t\t\t\t_interface.on.unMute();\r\n\t\t\t}\r\n\t\t\t_isMuted = false;\r\n\t\t\tif (_interface.on.slideUnMute) {\r\n\t\t\t\t_interface.on.slideUnMute();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (_interface.on.mute) {\r\n\t\t\t\t_interface.on.mute();\r\n\t\t\t}\r\n\t\t\t_isMuted = true;\r\n\t\t\tif (_interface.on.slideMute) {\r\n\t\t\t\t_interface.on.slideMute();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar _next = function () {\r\n\t\tif (_demoFrameLimit && _demoFrameLimit < _getFrameNumber(_current_frame.getAttribute('file'))) {\r\n\t\t\talert($ERR_DemoExceeded);\r\n\t\t} else {\r\n\t\t\tvar nextFileName;\r\n\t\t\tvar found = false;\r\n\t\t\tvar frames = _isKickback ? _current_frame.getElementsByTagName('kickback') : _sco_frames;\r\n\t\t\tvar currentFileName = _isKickback ? _current_kickback.getAttribute('file') : _current_frame.getAttribute('file');\r\n\r\n\t\t\tfor (var i = 0; i < frames.length; i++) {\r\n\t\t\t\tvar fileName = frames[i].getAttribute('file');\r\n\t\t\t\tif (found) {\r\n\t\t\t\t\tnextFileName = fileName;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (currentFileName === fileName) {\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (found && nextFileName) {\r\n\t\t\t\tvar nextFrame = _getMatchedFrame(nextFileName);\r\n\t\t\t\tif (_update(nextFrame)) {\r\n\t\t\t\t\tif (_isKickback) {\r\n\t\t\t\t\t\t_current_kickback = nextFrame;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_current_frame = nextFrame;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (_isKickback) {\r\n\t\t\t\t\t_isKickback = false;\r\n\t\t\t\t\t_current_kickback = undefined;\r\n\t\t\t\t\t_update(_current_frame, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar _parseFrames = function (currentLanguage) {\r\n\t\tvar topics = _sco_XML.getElementsByTagName('topics');\r\n\t\tvar selectedTopics;\r\n\r\n\t\tfor (var t = 0; t < topics.length; t++) {\r\n\t\t\tvar topic = topics[t];\r\n\t\t\tif (topic.getAttribute('lang') === currentLanguage) {\r\n\t\t\t\tselectedTopics = topic;\r\n\t\t\t\tdoc.title = selectedTopics.getAttribute('title');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_sco_frames = [];\r\n\t\tvar testFrames = selectedTopics.getElementsByTagName('page');\r\n\r\n\t\t// Getting quiz count\r\n\t\t_sco_quizTotal = 0;\r\n\t\tfor (var f = 0; f < testFrames.length; f++) {\r\n\t\t\tvar frame = testFrames[f];\r\n\t\t\tif (frame.getAttribute('pType') === 'quiz') {\r\n\t\t\t\t_sco_quizTotal++;\r\n\t\t\t}\r\n\t\t\tif (frame.getAttribute('pType') !== 'survey') {\r\n\t\t\t\t_sco_frames.push(frame);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar _parseIni = function (string) {\r\n\t\tvar regex = {\r\n\t\t\tsection: /^\\s*\\[\\s*([^\\]]*)\\s*\\]\\s*$/,\r\n\t\t\tparam: /^\\s*([\\w\\.\\-\\_]+)\\s*=\\s*(.*?)\\s*$/,\r\n\t\t\tcomment: /^\\s*;.*$/\r\n\t\t};\r\n\t\tvar value = {};\r\n\t\t// Pulling just ini data\r\n\t\tvar lines = string.substring(string.indexOf('[')).split(/\\n|\\r\\n/g);\r\n\t\tvar section = null;\r\n\t\tlines.forEach(function (line) {\r\n\t\t\tif (regex.comment.test(line)) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (regex.param.test(line)) {\r\n\t\t\t\tvar pMatch = line.match(regex.param);\r\n\t\t\t\tif (section) {\r\n\t\t\t\t\tvalue[section.toLowerCase()][pMatch[1].toLowerCase()] = pMatch[2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue[pMatch[1].toLowerCase()] = pMatch[2];\r\n\t\t\t\t}\r\n\t\t\t} else if (regex.section.test(line)) {\r\n\t\t\t\tvar sMatch = line.match(regex.section);\r\n\t\t\t\tvalue[sMatch[1].toLowerCase()] = {};\r\n\t\t\t\tsection = sMatch[1].toLowerCase();\r\n\t\t\t} else if (line.length === 0 && section) {\r\n\t\t\t\tsection = null;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn value;\r\n\t};\r\n\tvar _playToggle = function () {\r\n\t\tif (_isPaused) {\r\n\t\t\tif (_interface.on.play) {\r\n\t\t\t\t_interface.on.play();\r\n\t\t\t}\r\n\t\t\t_isPaused = false;\r\n\t\t\tif (_interface.on.slidePlay) {\r\n\t\t\t\t_interface.on.slidePlay();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (_interface.on.pause) {\r\n\t\t\t\t_interface.on.pause();\r\n\t\t\t}\r\n\t\t\t_isPaused = true;\r\n\t\t\tif (_interface.on.slidePause) {\r\n\t\t\t\t_interface.on.slidePause();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar _previous = function () {\r\n\t\tvar previousFileName;\r\n\t\tvar frames = _isKickback ? _current_frame.getElementsByTagName('kickback') : _sco_frames;\r\n\t\tvar currentFileName = _isKickback ? _current_kickback.getAttribute('file') : _current_frame.getAttribute('file');\r\n\r\n\t\tif (frames[0].getAttribute('file') !== currentFileName) {\r\n\t\t\tfor (var i = 0; i < frames.length; i++) {\r\n\t\t\t\tvar fileName = frames[i].getAttribute('file');\r\n\t\t\t\tif (previousFileName && currentFileName === fileName) { break; }\r\n\t\t\t\tpreviousFileName = fileName;\r\n\t\t\t}\r\n\r\n\t\t\tvar previousFrame = _getMatchedFrame(previousFileName);\r\n\t\t\tif (_update(previousFrame)) {\r\n\t\t\t\tif (_isKickback) {\r\n\t\t\t\t\t_current_kickback = previousFrame;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_current_frame = previousFrame;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar _replay = function () {\r\n\t\tif (_isKickback) {\r\n\t\t\t_interface.kickback.html(_createFrame(_current_kickback.getAttribute('file')));\r\n\t\t} else {\r\n\t\t\t_interface.presentor.html(_createFrame(_current_frame.getAttribute('file')));\r\n\t\t}\r\n\t\tif (_interface.on.play) {\r\n\t\t\t_interface.on.play();\r\n\t\t\t_isPaused = false;\r\n\t\t}\r\n\t};\r\n\tvar _scorm = {\r\n\t\t_api: undefined,\r\n\t\t_getApi: function (w) {\r\n\t\t\tvar apiName = 'API';\r\n\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\tapiName = 'API_1484_11';\r\n\t\t\t}\r\n\r\n\t\t\tthis._api = this._scanParents(w);\r\n\r\n\t\t\tif (!this._api && (w.parent != null) && (w.parent != w)) {\r\n\t\t\t\tthis._api = this._scanParents(w.parent, apiName);\r\n\t\t\t}\r\n\r\n\t\t\tif (!this._api && (w.opener != null)) {\r\n\t\t\t\tthis._api = this._scanParents(w.opener, apiName);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_scanParents: function (w, apiName) {\r\n\t\t\tvar tries = 0;\r\n\t\t\twhile (!w[apiName] && (w.parent != null) && (w.parent != w)) {\r\n\t\t\t\ttries++;\r\n\t\t\t\tif (tries > 10) {\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t}\r\n\t\t\t\tw = w.parent;\r\n\t\t\t}\r\n\r\n\t\t\treturn w[apiName];\r\n\t\t},\r\n\t\tCommit: function () {\r\n\t\t\tvar result = 'false';\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\tresult = this._api.Commit('');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._api.LMSCommit('');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result.toString();\r\n\t\t},\r\n\t\tGetLastError: function () {\r\n\t\t\tvar errCode = 100;\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\terrCode = this._api.GetLastError();\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrCode = this._api.LMSGetLastError();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn errCode.toString();\r\n\t\t},\r\n\t\tGetValue: function (element) {\r\n\t\t\tvar result = '';\r\n\t\t\tvar errCode = $CODE_GeneralError;\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\t//convert data model elements from SCORM 1.2 to 2004\r\n\t\t\t\t\tswitch (element) {\r\n\t\t\t\t\t\tcase $CORE_Status: //there is not lesson_status in SCORM 2004 it was replaced with completion_status and success_status\r\n\t\t\t\t\t\t\telement = 'cmi.completion_status';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_Entry:\r\n\t\t\t\t\t\t\telement = 'cmi.entry';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_SessionTime:\r\n\t\t\t\t\t\t\telement = 'cmi.session_time';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'cmi.core.total_time':\r\n\t\t\t\t\t\t\telement = 'cmi.total_time';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_Location:\r\n\t\t\t\t\t\t\telement = 'cmi.location';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_StudentName:\r\n\t\t\t\t\t\t\telement = 'cmi.learner_name';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_StudentId:\r\n\t\t\t\t\t\t\telement = 'cmi.learner_id';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'cmi.student_preference._children':\r\n\t\t\t\t\t\t\telement = 'cmi.learner_preference._children';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'cmi.student_preference.language':\r\n\t\t\t\t\t\t\telement = 'cmi.learner_preference.language';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'cmi.core.score._children':\r\n\t\t\t\t\t\t\telement = 'cmi.score._children';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_ScoreRaw:\r\n\t\t\t\t\t\t\telement = 'cmi.score.raw';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'cmi.core.score.min':\r\n\t\t\t\t\t\t\telement = 'cmi.score.min';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'cmi.core.score.max':\r\n\t\t\t\t\t\t\telement = 'cmi.score.max';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresult = this._api.GetValue(element);\r\n\t\t\t\t\terrCode = this._api.GetLastError().toString();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._api.LMSGetValue(element);\r\n\t\t\t\t\terrCode = this._api.LMSGetLastError().toString();\r\n\t\t\t\t}\r\n\t\t\t\tif (errCode !== $CODE_NoError) {\r\n\t\t\t\t\tresult = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result.toString();\r\n\t\t},\r\n\t\tInitialize: function () {\r\n\t\t\tvar result = 'false';\r\n\r\n\t\t\tthis._getApi(win);\r\n\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\tresult = this._api.Initialize('');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._api.LMSInitialize('');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result.toString();\r\n\t\t},\r\n\t\tSetValue: function (element, value) {\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\t//convert data model elements from SCORM 1.2 to 2004\r\n\t\t\t\t\tswitch (element) {\r\n\t\t\t\t\t\tcase $CORE_Status://there is not lesson_status in SCORM 2004 it was replaced with completion_status and success_status\r\n\t\t\t\t\t\t\tif ((value === $CMI_Passed) || (value === $CMI_Failed)) {\r\n\t\t\t\t\t\t\t\telement = 'cmi.success_status';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ((value === $CMI_Completed) || (value === $CMI_Incomplete)) {\r\n\t\t\t\t\t\t\t\telement = 'cmi.completion_status';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase $CORE_SessionTime:\r\n\t\t\t\t\t\t\telement = 'cmi.session_time';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_Location:\r\n\t\t\t\t\t\t\telement = 'cmi.location';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_Exit:\r\n\t\t\t\t\t\t\telement = 'cmi.exit';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $CORE_ScoreRaw:\r\n\t\t\t\t\t\t\telement = 'cmi.score.raw';\r\n\t\t\t\t\t\t\tthis._api.SetValue('cmi.score.scaled', (value / 100));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._api.SetValue(element, value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (element === $CORE_SuspendData) {\r\n\t\t\t\t\t\tvalue = JSON.stringify(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._api.LMSSetValue(element, value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t},\r\n\t\tTerminate: function () {\r\n\t\t\tvar result = 'false';\r\n\t\t\tif (this._api) {\r\n\t\t\t\tif (_cmiCommunication === $API_Scorm2004) {\r\n\t\t\t\t\tresult = this._api.Terminate('');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._api.LMSFinish('');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result.toString();\r\n\t\t}\r\n\t};\r\n\tvar _toggleFrames = function (presentorOnTop) {\r\n\t\tif (win.CanAutoplay) {\r\n\t\t\t_interface.presentor.css('visibility', presentorOnTop ? 'visible' : 'hidden');\r\n\t\t\t_interface.kickback.css('visibility', presentorOnTop ? 'hidden' : 'visible');\r\n\t\t} else {\r\n\t\t\t_interface.presentor.css('display', presentorOnTop ? 'block' : 'none');\r\n\t\t\t_interface.kickback.css('display', presentorOnTop ? 'none' : 'block');\r\n\t\t}\r\n\t};\r\n\tvar _update = function (scoFrame, quizReturn) {\r\n\t\tvar file = scoFrame.getAttribute('file');\r\n\t\tvar frameNumber = _getFrameNumber(file);\r\n\t\tvar isEnd = scoFrame.getAttribute('end') === 'true';\r\n\t\tvar isQuiz = scoFrame.getAttribute('pType') === 'quiz' || scoFrame.getAttribute('pType') === 'summary';\r\n\t\tvar narration = scoFrame.getElementsByTagName('narration')[0];\r\n\t\tvar bullets = scoFrame.getElementsByTagName('bullets')[0];\r\n\r\n\t\t// Set values in LMS\r\n\t\tif (_cmi_learner_id !== '~') {\r\n\t\t\tvar timeNow = new Date();\r\n\t\t\tvar n = timeNow.getTime() - $NOW.getTime();\r\n\t\t\tvar v = _millisecondsToCMIDuration(n, _cmiCommunication);\r\n\r\n\t\t\tif (!_isKickback) {\r\n\t\t\t\t_cmi_location = file;\r\n\t\t\t}\r\n\t\t\t_cmi_session_time = v.toString();\r\n\t\t\tif (isEnd) {\r\n\t\t\t\t_cmi_exit = '';\r\n\t\t\t\tif (_sco_scaled_passing_score) {\r\n\t\t\t\t\t_cmi_completion_status = $CMI_Passed;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_cmi_completion_status = $CMI_Completed;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tswitch (_cmiCommunication) {\r\n\t\t\t\tcase $API_Aicc:\r\n\t\t\t\tcase $API_Local:\r\n\t\t\t\t\t_aicc.Put();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $API_Scorm12:\r\n\t\t\t\t\tif (!_isKickback) {\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_Location, _cmi_location);\r\n\t\t\t\t\t\t_cmiError = _scorm.GetLastError();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_cmiError === $CODE_NoError) {\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_SessionTime, _cmi_session_time);\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_Exit, _cmi_exit);\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_Status, _cmi_completion_status);\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_ScoreRaw, _cmi_score_raw);\r\n\t\t\t\t\t\t_scorm.SetValue($CORE_SuspendData, _cmi_suspend_data);\r\n\t\t\t\t\t\t_cmiError = _scorm.GetLastError();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_cmiError === $CODE_NoError) {\r\n\t\t\t\t\t\t_scorm.Commit();\r\n\t\t\t\t\t\t_cmiError = _scorm.GetLastError();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_log($ERR_CommunicationIssue, !_debug);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $API_TinCan:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t_log($ERR_NotInitialized, !_debug);\r\n\t\t}\r\n\r\n\t\tif (_cmiError === $CODE_NoError || _debug) {\r\n\t\t\t// Update UI\r\n\t\t\tif (_interface.frameNumber) {\r\n\t\t\t\t_interface.frameNumber.html(frameNumber + ' / ' + _sco_frames.length);\r\n\t\t\t}\r\n\r\n\t\t\tif (_interface.on.progressBar) {\r\n\t\t\t\tvar percent = (frameNumber / _sco_frames.length);\r\n\t\t\t\tif (isNaN(percent)) {\r\n\t\t\t\t\tpercent = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (percent > 1) {\r\n\t\t\t\t\tpercent = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_interface.on.progressBar(percent * 100);\r\n\t\t\t}\r\n\r\n\t\t\tif (narration && narration !== null) {\r\n\t\t\t\tif (win.requestAnimationFrame) {\r\n\t\t\t\t\t_current_captions = new XMLSerializer().serializeToString(narration);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_current_captions = narration.xml;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_current_captions = '';\r\n\t\t\t}\r\n\r\n\t\t\tif (bullets && bullets !== null) {\r\n\t\t\t\tif (win.requestAnimationFrame) {\r\n\t\t\t\t\t_current_bullets = new XMLSerializer().serializeToString(bullets);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_current_bullets = bullets.xml;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_current_bullets = '';\r\n\t\t\t}\r\n\r\n\t\t\tif (quizReturn) {\r\n\t\t\t\t_toggleFrames(true);\r\n\t\t\t\t_interface.kickback.empty();\r\n\r\n\t\t\t\t_isNextEnabled = false;\r\n\t\t\t\t_isPreviousEnabled = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (_isKickback) {\r\n\t\t\t\t\t_toggleFrames(false);\r\n\t\t\t\t\t_interface.kickback.html(_createFrame(file));\r\n\t\t\t\t\t_isPreviousEnabled = _current_frame.getElementsByTagName('kickback')[0].getAttribute('file') !== file;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_toggleFrames(true);\r\n\t\t\t\t\t_interface.presentor.html(_createFrame(file));\r\n\t\t\t\t\t_isPreviousEnabled = _sco_frames[0].getAttribute('file') !== file;\r\n\t\t\t\t}\r\n\t\t\t\tif (!_isKickback && (isQuiz || (_interface.disableNext && frameNumber > 1))) {\r\n\t\t\t\t\t_isNextEnabled = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_isNextEnabled = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (_isPreviousEnabled) {\r\n\t\t\t\t_interface.on.previousEnable();\r\n\t\t\t} else {\r\n\t\t\t\t_interface.on.previousDisable();\r\n\t\t\t}\r\n\r\n\t\t\tif (_isNextEnabled) {\r\n\t\t\t\t_interface.on.nextEnable();\r\n\t\t\t} else {\r\n\t\t\t\t_interface.on.nextDisable();\r\n\t\t\t}\r\n\r\n\t\t\tif (isQuiz || isEnd) {\r\n\t\t\t\tSS.SlideStart({});\r\n\t\t\t}\r\n\t\t\tif (_interface.on.play) {\r\n\t\t\t\t_interface.on.play();\r\n\t\t\t\t_isPaused = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (isEnd) {\r\n\t\t\t\twin.setTimeout(_exit, 1000);\r\n\t\t\t\t_interface.on.scoFinish();\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t// Begin calls\r\n\tSS.InitSco = function (callback) { // Using callback to prevent slide sync issues\r\n\t\tvar endAudio = doc.createElement('audio');\r\n\t\tendAudio.id = 'end';\r\n\t\tendAudio.src = 'end-sound.mp3';\r\n\t\tendAudio.preload = 'auto';\r\n\t\tendAudio.volume = 0;\r\n\t\tdoc.body.appendChild(endAudio);\r\n\t\t_checkAutoPlay();\r\n\r\n\t\tif (querystrings.debug) {\r\n\t\t\t_debug = true;\r\n\t\t}\r\n\t\t// Scan for LMS communication format\r\n\t\tif (querystrings.demo) {\r\n\t\t\t_cmiCommunication = 'Demo';\r\n\t\t\t_debug = true;\r\n\t\t\t_demoFrameLimit = querystrings.demo;\r\n\t\t}\r\n\t\tif (_cmiCommunication === $API_None && querystrings.aicc_url && querystrings.subid) {\r\n\t\t\t_cmiCommunication = $API_Aicc;\r\n\t\t\t_aicc._relayUrl += querystrings.subid + '?relay-url=' + querystrings.aicc_url;\r\n\t\t}\r\n\t\tif (_cmiCommunication === $API_None && querystrings.aicc_url && querystrings.local) {\r\n\t\t\t_cmiCommunication = $API_Local;\r\n\t\t\t_aicc._relayUrl = querystrings.aicc_url;\r\n\t\t}\r\n\t\tif (_cmiCommunication === $API_None) {\r\n\t\t\t_cmiCommunication = $API_Scorm12;\r\n\t\t}\r\n\r\n\t\tvar author = doc.querySelector('meta[name=author]');\r\n\t\tvar julian = Math.floor(($NOW.getTime() / 86400000) - ($NOW.getTimezoneOffset() / 1440) + 2440587.5);\r\n\r\n\t\tif (author && author.getAttribute('content') < julian) {\r\n\t\t\t_log($ERR_SubscriptionInactive, !_debug);\r\n\t\t} else {\r\n\t\t\tvar scoXMLPath = 'sco.xml';\r\n\t\t\tif (querystrings.sco) {\r\n\t\t\t\tscoXMLPath = querystrings.sco;\r\n\t\t\t}\r\n\r\n\t\t\t_ajax(scoXMLPath, {\r\n\t\t\t\tcache: false,\r\n\t\t\t\tdone: function (xhr) {\r\n\t\t\t\t\t_sco_XML = xhr.responseXML;\r\n\t\t\t\t\t_sco_languages = _sco_XML.getElementsByTagName('language');\r\n\t\t\t\t\t_current_language = _sco_XML.getElementsByTagName('languages')[0].getAttribute('default');\r\n\t\t\t\t\tvar sco = _sco_XML.getElementsByTagName('sco')[0];\r\n\t\t\t\t\tif (sco.getAttribute('mastery-score')) {\r\n\t\t\t\t\t\t_sco_scaled_passing_score = sco.getAttribute('mastery-score');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_log('SS v2.9.6 Initialized, Tracking type: ' + _cmiCommunication);\r\n\t\t\t\t\tswitch (_cmiCommunication) {\r\n\t\t\t\t\t\tcase $API_Aicc:\r\n\t\t\t\t\t\tcase $API_Local:\r\n\t\t\t\t\t\t\t_ajax(_aicc._relayUrl, {\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tcommand: 'GetParam',\r\n\t\t\t\t\t\t\t\t\tversion: _aicc._version,\r\n\t\t\t\t\t\t\t\t\tsession_id: querystrings.aicc_sid\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tdone: function (xhr) {\r\n\t\t\t\t\t\t\t\t\t_log(xhr.responseText);\r\n\t\t\t\t\t\t\t\t\tvar scoData = _parseIni(xhr.responseText);\r\n\t\t\t\t\t\t\t\t\tvar status = scoData.core.lesson_status.toLowerCase();\r\n\t\t\t\t\t\t\t\t\tvar statusSlice = status.trim().slice(0, 1);\r\n\r\n\t\t\t\t\t\t\t\t\t_cmi_learner_id = scoData.core.student_id;\r\n\t\t\t\t\t\t\t\t\t_cmi_learner_name = scoData.core.student_name;\r\n\t\t\t\t\t\t\t\t\t_cmi_location = scoData.core.lesson_location;\r\n\r\n\t\t\t\t\t\t\t\t\tif ('n;i'.split(';').indexOf(statusSlice) > -1) {\r\n\t\t\t\t\t\t\t\t\t\t_cmi_completion_status = $CMI_Incomplete;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif (statusSlice === 'f') {\r\n\t\t\t\t\t\t\t\t\t\t\t_cmi_completion_status = $CMI_Failed;\r\n\t\t\t\t\t\t\t\t\t\t} else if (statusSlice === 'p') {\r\n\t\t\t\t\t\t\t\t\t\t\t_cmi_completion_status = $CMI_Passed\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t_cmi_completion_status = $CMI_Completed;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t_isCompleted = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (status.indexOf(',') > -1) {\r\n\t\t\t\t\t\t\t\t\t\tvar entry = status.split(',')[1].trim().slice(0, 1);\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (entry === 'a') {\r\n\t\t\t\t\t\t\t\t\t\t\t_cmi_entry = 'ab-initio';\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (entry === 'r' || (_cmi_location && _cmi_location !== '')) { // HACK: for systems that are using SCORMEngine to support the AICC HACP standard, there should never be a case that a location is stored but the LMS returns 'ab-inito'\r\n\t\t\t\t\t\t\t\t\t\t\t_cmi_entry = 'resume';\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tvar score = scoData.core.score.split(',');\r\n\t\t\t\t\t\t\t\t\t_cmi_score_raw = score[0];\r\n\t\t\t\t\t\t\t\t\tif (scoData.core_lesson && scoData.core_lesson.suspend_data) {\r\n\t\t\t\t\t\t\t\t\t\t_cmi_suspend_data = JSON.parse(scoData.core_lesson.suspend_data);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t_initFinish(callback);\r\n\t\t\t\t\t\t\t\t\t_aicc.Put();\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function (xhr) {\r\n\t\t\t\t\t\t\t\t\t_initFinish(callback);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $API_Scorm12:\r\n\t\t\t\t\t\t\tif (_scorm.Initialize() === 'true') {\r\n\t\t\t\t\t\t\t\tif (_scorm.GetValue($CORE_Status) === 'not attempted') {\r\n\t\t\t\t\t\t\t\t\t_scorm.SetValue($CORE_Status, $CMI_Incomplete);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_cmi_learner_id = _scorm.GetValue($CORE_StudentId);\r\n\t\t\t\t\t\t\t\t_cmi_learner_name = _scorm.GetValue($CORE_StudentName);\r\n\t\t\t\t\t\t\t\t_cmi_entry = _scorm.GetValue($CORE_Entry);\r\n\t\t\t\t\t\t\t\t_cmi_location = _scorm.GetValue($CORE_Location);\r\n\t\t\t\t\t\t\t\t_cmi_score_raw = _scorm.GetValue($CORE_ScoreRaw);\r\n\t\t\t\t\t\t\t\tif (_scorm.GetValue($CORE_SuspendData) !== '') {\r\n\t\t\t\t\t\t\t\t\tvar suspendData = _scorm.GetValue($CORE_SuspendData);\r\n\t\t\t\t\t\t\t\t\tif (suspendData.lastIndexOf('suspend_data=', 0) === 0) {\r\n\t\t\t\t\t\t\t\t\t\tsuspendData = suspendData.slice(13);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t_cmi_suspend_data = JSON.parse(suspendData);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_initFinish(callback);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase $API_TinCan:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t_initFinish(callback);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// Second step calls (GetLanguage -> SelectLanguage) Or (Resume)\r\n\tSS.GetLanguages = function () {\r\n\t\tvar languagesJSON = [];\r\n\r\n\t\tfor (var i = 0; i < _sco_languages.length; i++) {\r\n\t\t\tvar lang = _sco_languages[i];\r\n\t\t\tlanguagesJSON[i] = {\r\n\t\t\t\tid: lang.getAttribute('id'),\r\n\t\t\t\tlabel: lang.getAttribute('label')\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn languagesJSON;\r\n\t};\r\n\r\n\tSS.SelectLanguage = function (language) {\r\n\t\t// iOS audio fallback\r\n\t\tdoc.getElementById('end').play();\r\n\r\n\t\tif (language) {\r\n\t\t\t_current_language = language;\r\n\t\t} else {\r\n\t\t\t_current_language = _sco_XML.getElementsByTagName('languages')[0].getAttribute('default');\r\n\t\t}\r\n\r\n\t\t_parseFrames(_current_language);\r\n\r\n\t\t_current_frame = _sco_frames[0];\r\n\t};\r\n\r\n\tSS.Resume = function () {\r\n\t\t// iOS audio fallback\r\n\t\tdoc.getElementById('end').play();\r\n\r\n\t\tif (_cmi_location && _cmi_location !== '') {\r\n\t\t\tvar folder = _cmi_location.split('/')[0],\r\n\t\t\t\toptions = SS.GetLanguages();\r\n\t\t\tfor (var i = 0; i < options.length; i++) {\r\n\t\t\t\tif (options[i].id === folder) {\r\n\t\t\t\t\t_current_language = folder;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_parseFrames(_current_language);\r\n\r\n\t\tvar matchedPage = _getMatchedFrame(_cmi_location);\r\n\r\n\t\tif (matchedPage) {\r\n\t\t\t_current_frame = matchedPage;\r\n\t\t}\r\n\t};\r\n\r\n\t// Last step calls\r\n\tSS.GetLocalizedValues = function () {\r\n\t\tvar data = {};\r\n\t\tfor (var i = 0; i < _sco_languages.length; i++) {\r\n\t\t\tvar lang = _sco_languages[i];\r\n\t\t\tif (lang.getAttribute('id') === _current_language) {\r\n\t\t\t\tvar langElements = lang.childNodes;\r\n\t\t\t\tfor (var e = 0; e < langElements.length; e++) {\r\n\t\t\t\t\tif (langElements[e].textContent) {\r\n\t\t\t\t\t\tdata[langElements[e].tagName] = langElements[e].textContent;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata[langElements[e].tagName] = langElements[e].firstChild.nodeValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t};\r\n\r\n\tSS.InitInterface = function (options) {\r\n\t\t_interface.on.animate = options.onAnimate;\r\n\t\t_interface.on.progressBar = options.setProgressBar;\r\n\t\t_interface.on.scoFinish = options.onScoFinish;\r\n\r\n\t\t_interface.title = options.titleField;\r\n\t\t_interface.frameNumber = options.frameField;\r\n\r\n\t\t_interface.presentor = options.presentorFrame;\r\n\t\t_interface.kickback = options.kickbackFrame;\r\n\r\n\t\tif (_interface.title) {\r\n\t\t\t_interface.title.html(doc.title);\r\n\t\t}\r\n\r\n\t\t_update(_current_frame);\r\n\t};\r\n\r\n\tSS.Mute = function (options) {\r\n\t\t_interface.on.mute = options.mute;\r\n\t\t_interface.on.unMute = options.unMute;\r\n\r\n\t\t_interface.on.unMute(); // Default the button to un-muted\r\n\r\n\t\treturn _muteToggle;\r\n\t};\r\n\r\n\tSS.Next = function (options) {\r\n\t\t_interface.on.nextDisable = options.onDisable;\r\n\t\t_interface.on.nextEnable = options.onEnable;\r\n\r\n\t\tif (options.disableOnNext) {\r\n\t\t\t_interface.disableNext = options.disableOnNext;\r\n\t\t}\r\n\r\n\t\treturn _next;\r\n\t};\r\n\r\n\tSS.Play = function (options) {\r\n\t\t_interface.on.play = options.play;\r\n\t\t_interface.on.pause = options.pause;\r\n\r\n\t\treturn _playToggle;\r\n\t};\r\n\r\n\tSS.Previous = function (options) {\r\n\t\t_interface.on.previousDisable = options.onDisable;\r\n\t\t_interface.on.previousEnable = options.onEnable;\r\n\r\n\t\treturn _previous;\r\n\t};\r\n\r\n\tSS.Replay = function () {\r\n\t\treturn _replay;\r\n\t};\r\n\r\n\tSS.EndSco = function () {\r\n\t\treturn function () {\r\n\t\t\t_exit();\r\n\t\t\tif (win.top.opener) {\r\n\t\t\t\twin.top.close();\r\n\t\t\t} else {\r\n\t\t\t\t_log('Data saved, but window was not able to be closed', !_debug);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\t// Slide functions\r\n\tSS.GetStudentName = function () {\r\n\t\treturn _cmi_learner_name;\r\n\t};\r\n\r\n\tSS.SlideStart = function (options) {\r\n\t\t_interface.on.slidePause = options.slidePause;\r\n\t\t_interface.on.slidePlay = options.slidePlay;\r\n\t\t_interface.on.slideMute = options.slideMute;\r\n\t\t_interface.on.slideUnMute = options.slideUnMute;\r\n\r\n\t\tif (_interface.on.animate) {\r\n\t\t\t_interface.on.animate(_current_bullets, _current_captions);\r\n\t\t}\r\n\t\tif (_isMuted && _interface.on.slideMute) {\r\n\t\t\t_interface.on.slideMute();\r\n\t\t}\r\n\t};\r\n\r\n\tSS.SlideEnd = function () {\r\n\t\tif (!win.CanAutoplay) {\r\n\t\t\t_checkAutoPlay();\r\n\t\t}\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\tvar end = doc.getElementById('end');\r\n\t\t\tend.volume = 1;\r\n\t\t\tend.play();\r\n\t\t\tif (win.CanAutoplay) {\r\n\t\t\t\t_interface.on.nextEnable();\r\n\t\t\t\t_isNextEnabled = true;\r\n\t\t\t} else {\r\n\t\t\t\t_next();\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tSS.ScoreResults = function () {\r\n\t\tvar answers = 0;\r\n\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\tanswers = _cmi_suspend_data.answered.length;\r\n\t\t}\r\n\t\tvar ratio = answers / _sco_quizTotal;\r\n\r\n\t\treturn {\r\n\t\t\tanswered: answers,\r\n\t\t\tpassed: ratio >= _sco_scaled_passing_score,\r\n\t\t\tpercent: (ratio * 100).toFixed(2),\r\n\t\t\ttotal: _sco_quizTotal\r\n\t\t};\r\n\t};\r\n\r\n\tSS.QuizCorrect = function () {\r\n\t\tif (_sco_scaled_passing_score) {\r\n\t\t\tif (_current_frame.getAttribute('pType') === 'quiz') {\r\n\t\t\t\tvar index = -1;\r\n\t\t\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\t\t\tindex = _cmi_suspend_data.answered.indexOf(_current_frame.getAttribute('file'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_cmi_suspend_data.answered = [];\r\n\t\t\t\t}\r\n\t\t\t\tif (index === -1) {\r\n\t\t\t\t\t_cmi_suspend_data.answered.push(_current_frame.getAttribute('file'));\r\n\r\n\t\t\t\t\tvar answers = 0;\r\n\t\t\t\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\t\t\t\tanswers = _cmi_suspend_data.answered.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar ratio = answers / _sco_quizTotal;\r\n\r\n\t\t\t\t\t_cmi_score_raw = (ratio * 100).toFixed(2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_next();\r\n\t};\r\n\r\n\tSS.QuizIncorrect = function () {\r\n\t\tvar firstKickback = _current_frame.getElementsByTagName('kickback')[0];\r\n\r\n\t\tif (_sco_scaled_passing_score) {\r\n\t\t\tvar index = -1;\r\n\t\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\t\tindex = _cmi_suspend_data.answered.indexOf(_current_frame.getAttribute('file'));\r\n\t\t\t}\r\n\t\t\tif (index > -1) {\r\n\t\t\t\t_cmi_suspend_data.answered.splice(index, 1);\r\n\r\n\t\t\t\tvar answers = 0;\r\n\t\t\t\tif (_cmi_suspend_data.answered) {\r\n\t\t\t\t\tanswers = _cmi_suspend_data.answered.length;\r\n\t\t\t\t}\r\n\t\t\t\tvar ratio = answers / _sco_quizTotal;\r\n\r\n\t\t\t\t_cmi_score_raw = (ratio * 100).toFixed(2);\r\n\t\t\t}\r\n\r\n\t\t\tif (firstKickback) {\r\n\t\t\t\tvar matchedFrame = _getMatchedFrame(firstKickback.getAttribute('file'));\r\n\t\t\t\t_isKickback = false;\r\n\r\n\t\t\t\tif (_update(matchedFrame)) {\r\n\t\t\t\t\t_current_frame = matchedFrame;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_next();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (firstKickback) {\r\n\t\t\t\tvar matchedKickback = _getMatchedFrame(firstKickback.getAttribute('file'));\r\n\t\t\t\t_isKickback = true;\r\n\r\n\t\t\t\tif (_update(matchedKickback)) {\r\n\t\t\t\t\t_current_kickback = matchedKickback;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn SS;\r\n})(this, this.document, this.querystrings || {});"],"sourceRoot":"/source/"}